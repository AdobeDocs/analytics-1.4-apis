{"version":3,"file":"b5b0150a-21341e7107cf1a352cca.js","mappings":"+MAI0D,ipDAEpDA,EAAe,WAEnB,OAAuEC,EAAAA,EAAAA,YAAWC,EAAAA,GAA1EC,EAAgB,EAAhBA,iBAAkBC,EAAkB,EAAlBA,mBAAoBC,EAAoB,EAApBA,qBAE9C,GAA0CC,EAAAA,EAAAA,UAASH,EAAiBI,WAAU,SAAAC,GAAG,OAAIA,EAAIC,KAAOJ,EAAqBI,EAAE,KAAhHC,EAAa,KAAEC,EAAgB,KACtC,GAAwCL,EAAAA,EAAAA,WAAS,GAA1CM,EAAY,KAAEC,EAAe,MAEpCC,EAAAA,EAAAA,YAAU,WAKR,OAJiBC,SAASC,cAAc,8BAEtCD,SAASE,KAAKC,MAAMC,SAAW,UAE1B,WACLJ,SAASE,KAAKC,MAAMC,SAAW,EACjC,CACF,GAAG,CAACP,IAEJ,IAAMQ,EAAQ,WACZP,GAAgB,EAClB,EAEA,OACE,iCACE,gBAAMQ,IAAG,EAAmE,UAAQ,0BAA0BC,QAAS,kBAAMT,GAAgB,EAAK,GAAE,uBACnJD,IACC,oBACE,eAAK,cAAY,WAAWW,MAAM,oEAAoE,cAAY,OAAOL,MAAM,uBAC/H,eACEG,IAAG,IAkBH,eAAKG,UAAU,yBAAyB,cAAY,QAAQH,IAAG,IAC7D,mBAASG,UAAU,wEAAwEC,KAAK,cAAcC,SAAS,KAAK,aAAW,SACrI,eAAKF,UAAU,yBACb,cAAIA,UAAU,6DAA4D,wBAC1E,cAAIA,UAAU,mGACd,mBAASA,UAAU,4BACjB,eACEH,IAAG,IAKH,eACEA,IAAG,IAKH,aACEG,UAAU,qCACVH,IAAG,GAEF,0BAED,gBAAMG,UAAU,6CACbrB,EAAiBO,GAAeiB,MAC5B,OAGT,eACEN,IAAG,IAGH,eACEA,IAAG,IAKH,aACEG,UAAU,sCACVH,IAAG,GAEF,wBAGH,aACEG,UAAU,qCACVH,IAAG,GAGF,OAIL,eACEA,IAAG,IAsDH,QAAC,IAAM,CACLO,SAAS,EACTC,MAAO1B,EAAiB2B,KAAI,SAACC,EAAcC,GACzC,MAAO,CACLC,MAAOF,aAAY,EAAZA,EAAcJ,KACrBO,SAAUF,IAAMtB,EAChByB,KAA6B,eAAvBJ,aAAY,EAAZA,EAAcN,MAAuB,YAAqC,WAAvBM,aAAY,EAAZA,EAAcN,MAAmB,uBAAyB,GAEvH,IACAW,SAAU,SAAAC,GACR1B,EAAiB0B,EACnB,EACA,UAAQ,4BAKhB,eACEhB,IAAG,IAWH,eAAKG,UAAU,yFAAyFH,IAAG,IAGzG,kBAAQG,UAAU,uHAAuHF,QAASF,IAChJ,gBAAMI,UAAU,yBAAwB,YAG1C,kBAAQ,UAAQ,6BAA6BA,UAAU,uFAAuFF,QAAS,WACrJF,IACAhB,EAAmBD,EAAiBO,GACtC,IACE,gBAAMc,UAAU,yBAAwB,iCAgBpE,C","sources":["webpack://analytics-1.4-apis/./node_modules/@adobe/gatsby-theme-aio/src/components/GetCredential/Organization.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { css } from '@emotion/react';\r\nimport '@spectrum-css/contextualhelp/dist/index-vars.css';\r\nimport { Picker } from '../Picker';\r\nimport GetCredentialContext from './GetCredentialContext';\r\n\r\nconst Organization = () => {\r\n\r\n  const { allOrganizations, switchOrganization, selectedOrganization } = useContext(GetCredentialContext);\r\n\r\n  const [selectedIndex, setSelectedIndex] = useState(allOrganizations.findIndex(org => org.id === selectedOrganization.id));\r\n  const [isOpenDialog, setIsOpenDialog] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const underlay = document.querySelector('[data-testid=\"underlay\"]');\r\n    if (underlay) {\r\n      document.body.style.overflow = 'hidden';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [isOpenDialog]);\r\n\r\n  const close = () => {\r\n    setIsOpenDialog(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <span css={css`margin-left:10px;cursor:pointer;text-decoration:underline;`} data-cy=\"change-organization-btn\" onClick={() => setIsOpenDialog(true)}>Change organization</span>\r\n      {isOpenDialog &&\r\n        <div>\r\n          <div data-testid=\"underlay\" class=\"spectrum-Underlay spectrum-overlay is-open spectrum-overlay--open\" aria-hidden=\"true\" style=\"overflow: hidden;\" />\r\n          <div\r\n            css={css`\r\n              align-items: center;\r\n              box-sizing: border-box;\r\n              display: flex;\r\n              height: var(--spectrum-visual-viewport-height);\r\n              justify-content: center;\r\n              left: 0;\r\n              pointer-events: none;\r\n              position: fixed;\r\n              top: 0;\r\n              transition: visibility 0s linear var(--spectrum-global-animation-duration-100, .13s);\r\n              visibility: hidden;\r\n              width: 100vw;\r\n              z-index: 2;\r\n              height: 100vh;\r\n              --spectrum-visual-viewport-height: 552px;\r\n            `}\r\n          >\r\n            <div className=\"spectrum-Modal is-open\" data-testid=\"modal\" css={css`background-color:white;z-index:2;position : absolute;`}>\r\n              <section className=\"spectrum-Dialog spectrum-Dialog--medium spectrum-Dialog--confirmation\" role=\"alertdialog\" tabIndex=\"-1\" aria-modal=\"true\">\r\n                <div className=\"spectrum-Dialog-grid\">\r\n                  <h1 className=\"spectrum-Dialog-heading spectrum-Dialog-heading--noHeader\">Change organization</h1>\r\n                  <hr className=\"spectrum-Divider spectrum-Divider--sizeM spectrum-Divider--horizontal spectrum-Dialog-divider\" />\r\n                  <section className=\"spectrum-Dialog-content\">\r\n                    <div\r\n                      css={css`\r\n                      display: flex;\r\n                      flex-direction: column;\r\n                      gap: 48px;\r\n                    `}>\r\n                      <div\r\n                        css={css`\r\n                        display: flex;\r\n                        flex-direction: column;\r\n                        gap: 16px;\r\n                      `}>\r\n                        <p\r\n                          className=\"spectrum-Body spectrum-Body--sizeM\"\r\n                          css={css`\r\n                          color: #222222;\r\n                        `}>\r\n                          You are currently in [\r\n                          <span className=\"spectrum-Heading spectrum-Heading--sizeXS\">\r\n                            {allOrganizations[selectedIndex].name}\r\n                          </span>\r\n                          ].\r\n                        </p>\r\n                        <div\r\n                          css={css`\r\n                          width: 246px;\r\n                        `}>\r\n                          <div\r\n                            css={css`\r\n                            display: flex;\r\n                            justify-content: space-between;\r\n                            align-items: center;\r\n                          `}>\r\n                            <p\r\n                              className=\"spectrum-Body spectrum-Body--sizeXS\"\r\n                              css={css`\r\n                              color: #464646;\r\n                            `}>\r\n                              Choose organization\r\n                            </p>\r\n                            <p\r\n                              className=\"spectrum-Body spectrum-Body--sizeL\"\r\n                              css={css`\r\n                              padding-top: 3px;\r\n                              color: #464646;\r\n                            `}>\r\n                              *\r\n                            </p>\r\n                          </div>\r\n                          <div\r\n                            css={css`\r\n                            & > div > button {\r\n                              width: 100%;\r\n                              border-radius: 4px;\r\n                            }\r\n\r\n                            & > div > button > svg {\r\n                              width: 10px;\r\n                              height: 10px;\r\n                            }\r\n\r\n                            & > div > button {\r\n                              path:nth-child(1) {\r\n                                display: none;\r\n                              }\r\n                            }\r\n\r\n                            & > div > div {\r\n                              width: 246px;\r\n                              max-height: 98px;\r\n\r\n                              ul:nth-child(1) {\r\n                                svg:nth-child(1) {\r\n                                  width: 10px;\r\n                                  height: 10px;\r\n                                  margin-top: 7px;\r\n\r\n                                  path:nth-child(1) {\r\n                                    display: none;\r\n                                  }\r\n                                }\r\n                              }\r\n                            }\r\n\r\n                            & > div > div > ul {\r\n                              overflow-x: hidden !important;\r\n                              overflow-y: scroll !important;\r\n                            }\r\n\r\n                            & > div > div > ul > li {\r\n                              padding : 0 !important;\r\n                            }\r\n\r\n                            & > div > div > ul > li > div > div {\r\n                              height: 20px !important;\r\n                            }\r\n\r\n                            & > div > div > ul > li > span > div > p {\r\n                                  white-space: normal;\r\n                                  overflow: visible;\r\n                                  word-wrap: break-word;\r\n                                  width: 185px;\r\n                            }\r\n                          `}>\r\n                            <Picker\r\n                              isQuiet={false}\r\n                              items={allOrganizations.map((organization, k) => {\r\n                                return {\r\n                                  title: organization?.name,\r\n                                  selected: k === selectedIndex,\r\n                                  type: organization?.role === \"DEVELOPER\" ? 'Developer' : organization?.role === \"ADMIN\" ? 'System Administrator' : \"\"\r\n                                };\r\n                              })}\r\n                              onChange={index => {\r\n                                setSelectedIndex(index);\r\n                              }}\r\n                              data-cy=\"organization-picker\"\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div\r\n                        css={css`\r\n                          & > div {\r\n                            display: flex;\r\n                            justify-content: right;\r\n                            gap: 12px;\r\n                            button {\r\n                              cursor: pointer;\r\n                              margin: 0px !important;\r\n                            }\r\n                          }\r\n                        `}>\r\n                        <div className=\"spectrum-ButtonGroup spectrum-Dialog-buttonGroup spectrum-Dialog-buttonGroup--noFooter\" css={css` gap: 20px; padding-top:0; `} >\r\n\r\n\r\n                          <button className=\"spectrum-Button spectrum-Button--sizeM spectrum-Button--outline spectrum-Button--secondary spectrum-ButtonGroup-item\" onClick={close}>\r\n                            <span className=\"spectrum-Button-label\">Cancel</span>\r\n                          </button>\r\n\r\n                          <button data-cy=\"submit-change-organization\" className=\"spectrum-Button spectrum-Button--fill spectrum-Button--accent spectrum-Button--sizeM\" onClick={() => {\r\n                            close();\r\n                            switchOrganization(allOrganizations[selectedIndex]);\r\n                          }}>\r\n                            <span className=\"spectrum-Button-label\">Change organization</span>\r\n                          </button>\r\n\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </section>\r\n\r\n                </div>\r\n              </section>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport { Organization };\r\n"],"names":["Organization","useContext","GetCredentialContext","allOrganizations","switchOrganization","selectedOrganization","useState","findIndex","org","id","selectedIndex","setSelectedIndex","isOpenDialog","setIsOpenDialog","useEffect","document","querySelector","body","style","overflow","close","css","onClick","class","className","role","tabIndex","name","isQuiet","items","map","organization","k","title","selected","type","onChange","index"],"sourceRoot":""}