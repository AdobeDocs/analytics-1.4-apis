(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[8530],{47239:function(e,t,n){"use strict";n.r(t),n.d(t,{_frontmatter:function(){return d},default:function(){return u}});var a=n(22122),r=n(19756),o=(n(15007),n(64983)),m=n(99536),p=["components"],d={},i={_frontmatter:d},l=m.Z;function u(e){var t=e.components,n=(0,r.Z)(e,p);return(0,o.mdx)(l,(0,a.Z)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"step-5-populating-an-import-job"},"Step 5: Populating an Import Job"),(0,o.mdx)("p",null,"After you create the import job, you can populate it with data using the ",(0,o.mdx)("inlineCode",{parentName:"p"},"Saint.ImportPopulateJob()")," method, which appends row data to an uncommitted SAINT import job and requires the parameters in the following table."),(0,o.mdx)("table",null,(0,o.mdx)("thead",{parentName:"table"},(0,o.mdx)("tr",{parentName:"thead"},(0,o.mdx)("th",{parentName:"tr",align:null},"Parameter"),(0,o.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,o.mdx)("tbody",{parentName:"table"},(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"job","_","id"),(0,o.mdx)("td",{parentName:"tr",align:null},"The SAINT import job ID to append the row data. Use the returned job ID from the ",(0,o.mdx)("inlineCode",{parentName:"td"},"Saint.ImportCreateJob()")," method.")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"page"),(0,o.mdx)("td",{parentName:"tr",align:null},"The page number, or sequential batch number, for the import.")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},"row"),(0,o.mdx)("td",{parentName:"tr",align:null},"An array of row data formatted to match the header columns of the import job.")))),(0,o.mdx)("p",null,"If you upload a large amount of data, you can upload it in batches, often referred to as segments, or pages. You must number the pages sequentially ","(","either ascending or descending",")"," to avoid errors when SAINT processes the job. Remember to start the page numbering from 1, and not 0."),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"Saint.ImportPopulateJob()")," method returns a status string that indicates if the job successfully processed. Valid return values include ",(0,o.mdx)("inlineCode",{parentName:"p"},"Success")," or ",(0,o.mdx)("inlineCode",{parentName:"p"},"Failed"),"."),(0,o.mdx)("p",null,"In this JJ. Esquire demo application for this article, the following code shows you how to add one record, but two classifications ","(","Winter Ski Jacket category and Northface brand",")",", for a single product SKU ","(","100241",")","."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"PHP Code")," "),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre"},"/* Saint.ImportPopulateJob */ \n$data = array( \narray('100241','Winter Ski Jackets','Northface') \n); \nif ($job_id >= 1) { \n$chunked_array = array_chunk($data, 25000); \n$page = 1; \nforeach ($chunked_array as $chunk) { \n$xml = format_rows($job_id, $page, $chunk); \n/* Saint.ImportPopulateJob */ \n$response = sendRequest('Saint.ImportPopulateJob', $xml ); \n$page++; \n//var_dump($response); \n} \n} \n\n/** \n* Format Rows: \n* \n* \n* home page \n* TypeA \n* Rank1 \n* \n* \n*/ \nfunction format_rows($job_id, $page, $rows) { \n$xml = '' . $job_id . '' . $page . ''; \n$xml .= ''; \nforeach ($rows as $r) { \n$xml .= ''; \nforeach($r as $c) { \n$xml .= '' . _xmlentities($c) . ''; \n} \n$xml .= ''; \n} \n$xml .= ''; \nreturn $xml; \n} \n\nfunction _xmlentities ( $string ) { \nreturn str_replace( array( '&', '\"', \"'\", '<', '>' ), array( '&', '\"', ''', '<', '>'), $string); \n} \n?>\n")),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Java Code")," "),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre"},'/* Create the row data */ \ncom.omniture.www.Row[] rows = new com.omniture.www.Row[10]; \n\nString[] row = new String[3]; \n\n/* This is the SKU number of the jacket that we tagged in the Tagging article and the data got uploaded via tagging into the report suite.*/ \nrow[0] = "100241"; \nrow[1] = "Winter Ski Jackets"; \nrow[2] = "Northface"; \nrows[0] = new com.omniture.www.Row(); \nrows[0].setRow(row); \n\n/* Import populate job request */ \nString responseImportPopulateJob = port.saintImportPopulateJob(importJobID, 1, rows); \nSystem.out.println("saintImportPopulateJob retuned a : "+responseImportPopulateJob);\n')),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Parent topic:")," ",(0,o.mdx)("a",{parentName:"p",href:"c_SAINT_API_Overview.md"},"SAINT API Tutorial")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-getting-started-c-populating-an-import-job-md-996ec30316c9c5922709.js.map