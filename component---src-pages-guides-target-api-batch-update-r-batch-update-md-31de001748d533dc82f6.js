(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[67564],{99638:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return p},default:function(){return u}});var n=a(22122),s=a(19756),r=(a(15007),a(64983)),l=a(99536),m=["components"],p={},d={_frontmatter:p},o=l.Z;function u(e){var t=e.components,a=(0,s.Z)(e,m);return(0,r.mdx)(o,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"bulk-profile-update"},"Bulk Profile Update"),(0,r.mdx)("p",null,"The Bulk Profile Update API lets you batch profile update requests."),(0,r.mdx)("h2",{id:"using-bulk-profile-update"},"Using Bulk Profile Update"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Create a batch file like the following example:"),(0,r.mdx)("pre",{parentName:"li"},(0,r.mdx)("code",{parentName:"pre"},"batch=pcId, param1, param2, param3\n1000000000000-100000.01, value1, value2, valueeeeeee\n1000000000000-100000.01, value1, value3, valueeeeeee\n1367320065048-801944.01_00, value1, value6, valueeeeeee\n1000000000000-100000.01, value1, value6, valueeeeeee\n"))),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("inlineCode",{parentName:"p"},"curl -X POST --data-binary @batch http://mboxedge/m2/demo/profile/batchUpdate")," "))),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Note:")," There is a limit of one million profile updates in a 24-hour period."),(0,r.mdx)("h2",{id:"create-the-url"},"Create the URL"),(0,r.mdx)("p",null,"For each operation add the parameters and values necessary to batch profile updates in a T&T campaign."),(0,r.mdx)("p",null,"For example, use the following URL, substituting the appropriate value for each of the URL parameters:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},"https://client.tt.omtrdc.net/m2/client/profile/batchUpdate\n")),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Parameter"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("strong",{parentName:"td"},"batch")),(0,r.mdx)("td",{parentName:"tr",align:null},"(","Required",")",' batch content sent in the POST content as "batch" parameter. The request should be a POST. A batch is composed of the batch header followed by data. Example below:')))),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},"pcId, param1, param2, param3, param4\n123, value1\n124, value1,,,value4\n125,,value2\n126,value1,value2,value3,value4\n")),(0,r.mdx)("p",null," ",(0,r.mdx)("strong",{parentName:"p"},"Notes")," "),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Params and values must be URL-encoded using UTF-8"),(0,r.mdx)("li",{parentName:"ul"},"Param format is ",(0,r.mdx)("inlineCode",{parentName:"li"},"paramName")," only ","(","it is not the current format: ",(0,r.mdx)("inlineCode",{parentName:"li"},"profile.paramName"),")","."),(0,r.mdx)("li",{parentName:"ul"},"Not all parameter values need to exist for all pcIds."),(0,r.mdx)("li",{parentName:"ul"},"ThirdPartyId is not supported."),(0,r.mdx)("li",{parentName:"ul"},"Batch file size must be less than 60MB, and the total number of rows in the batch file must be less than 500k.")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Note:")," Parameters and values are case sensitive."),(0,r.mdx)("h2",{id:"inspect-the-query-response"},"Inspect the Query Response"),(0,r.mdx)("p",null,"A response of ",(0,r.mdx)("inlineCode",{parentName:"p"},"<success>true</success>")," indicates a successful operation. T&T also returns a URL that clients can use to retrieve the status of the batch and a message:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},"<response>\n    <success>true</success>\n    <batchStatus>http://mboxedge19.tt.omtrdc.net/m2/fedex/profile/batchStatus?batchId=fedex-1470380971&mboxPC=0000000000000-000000.19_05</batchStatus>\n    <message>Batch submitted for processing</message> \n</response>\n\n")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"success"),": status of the request, ",(0,r.mdx)("inlineCode",{parentName:"p"},"true")," or ",(0,r.mdx)("inlineCode",{parentName:"p"},"false"),"."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"batchStatus"),": URL where the batch status can be retrieved. If the ",(0,r.mdx)("inlineCode",{parentName:"p"},"success")," value is ",(0,r.mdx)("inlineCode",{parentName:"p"},"false"),", ",(0,r.mdx)("inlineCode",{parentName:"p"},"batchStatus")," is empty."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"message"),": additional information regarding the status."),(0,r.mdx)("h2",{id:"batch-status"},"Batch Status"),(0,r.mdx)("p",null,"For each client, only the previous 10 statuses are stored, for a maximum of 24 hours."),(0,r.mdx)("p",null,"The status response appears as follows:"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},"<response> \n  <success>true</success>\n  <batchStatus>http://mboxedge19.tt.omtrdc.net/m2/testclient/profile/batchStatus?batchId=testclient-1470380971&mboxPC=0000000000000-000000.19_05</batchStatus> \n  <message>Batch submitted for processing</message> \n</response>\n\n\n")),(0,r.mdx)("p",null,"You can access the batch status URL to get the details of the actual success and failures."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},"http://mboxedge19.tt.omtrdc.net/m2/testclient/profile/batchStatus?batchId=testclient-1470380971&mboxPC=0000000000000-000000.19_05\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},"<response>\n<batchId>testclient -1470380971</batchId>\n<status>complete</status>\n<batchSize>5</batchSize>\n</response>\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},"http://mboxedge19.tt.omtrdc.net/m2/testclient/profile/batchStatus?batchId=testclient-1470380971&mboxPC=0000000000000-000000.19_05&showDetails=true\n\n")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},"<response>\n<batchId> testclient -1470380971</batchId>\n<status>complete</status>\n<batchSize>5</batchSize>\n<successfulUpdates>2</successfulUpdates>\n<profilesNotFound>3</profilesNotFound>\n<failedUpdates>0</failedUpdates>\n</response>\n")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Parent topic:")," ",(0,r.mdx)("a",{parentName:"p",href:"../campaign_state/r_Test_and_Target_API_Sample_Code.md"},"Methods")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-target-api-batch-update-r-batch-update-md-31de001748d533dc82f6.js.map