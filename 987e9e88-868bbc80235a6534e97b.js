"use strict";(self.webpackChunkanalytics_1_4_apis=self.webpackChunkanalytics_1_4_apis||[]).push([[2914],{77503:function(e,t,n){n.d(t,{MF:function(){return I},MH:function(){return M},SL:function(){return B},UW:function(){return R},cI:function(){return $},dd:function(){return H},ie:function(){return L}});var r=n(4942),o=n(42982),l=n(15861),i=n(64687),a=n.n(i),s=n(15007),d=n(95223),c=n(75900),u=n.n(c),p=n(65480),v=n(47720),f=n(59273),g=n(48325),m=n(27860),h=n(68457),y=n(8),b=n(53971),w=n(90166),x=n(26777);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=/^(localhost:\d{1,5}|(\*\.|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+)|\*|(\*\.[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+))$/,k=/^(?=[A-Za-z0-9\s]{6,}$)[A-Za-z0-9\s]*$/,C={name:"19cme6k",styles:"margin-left:10px;color:var(--spectrum-global-color-gray-800);&:hover{color:var(--spectrum-global-color-gray-900);}"},S={name:"17fjgey",styles:"width:fit-content;margin-top:10px"},A={name:"1e43w35",styles:"color:rgb(0, 84, 182);&:hover{color:rgb(2, 101, 220);}"},z={name:"1kjtuj9",styles:"color:var(--spectrum-global-color-gray-800);margin:0"},P={name:"oq6u0f",styles:"display:flex;gap:10px"},j={name:"ftyx0c",styles:"display:flex;gap:24px;flex-direction:column;width:100%"},F={name:"1pmf9ly",styles:"border:none;padding:0;font-family:'adobe-clean';background:transparent;margin-left:10px;text-decoration:underline;color:var(--spectrum-global-color-gray-800);cursor:pointer"},N={name:"7hgi8",styles:"color:var(--spectrum-global-color-gray-800)"},E={name:"budh8k",styles:"display:flex;flex-direction:column;gap:16px"},B=function e(t){var n,r,i=t.formProps,c=t.credentialType,y=t.service,Z=(0,s.useState)(!0),B=Z[0],U=Z[1],T=(0,s.useState)(!1),_=T[0],V=T[1],q=(0,s.useState)({}),G=q[0],J=q[1],K=(0,s.useState)(""),W=K[0],Y=K[1],X=(0,s.useState)(!0),Q=X[0],ee=X[1],te=(0,s.useState)(!1),ne=te[0],re=te[1],oe=(0,s.useState)([]),le=oe[0],ie=oe[1],ae=(0,s.useState)({}),se=ae[0],de=ae[1],ce=(0,s.useState)(!1),ue=ce[0],pe=ce[1],ve=(0,s.useState)(!1),fe=ve[0],ge=ve[1],me=(0,s.useState)(!1),he=me[0],ye=me[1],be=(0,s.useState)(!1),we=be[0],xe=be[1],Ze=(0,s.useState)(!1),Oe=Ze[0],De=Ze[1],ke=(0,s.useState)({}),Ce=ke[0],Se=ke[1],Ae=(0,s.useState)(!0),ze=Ae[0],Pe=Ae[1],je=(0,s.useState)(""),Fe=je[0],Ne=je[1],Ee=(0,s.useContext)(x.ZP).ims,Be=null==i?void 0:i[e],Ie=null==Be||null===(n=Be.children)||void 0===n?void 0:n.filter((function(e){return Object.keys(e.props).some((function(e){return e.startsWith("contextHelp")}))})),Ue=function(){var e=(0,l.Z)(a().mark((function e(){var t,n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=localStorage)||void 0===t?void 0:t.getItem("OrgInfo"),e.next=3,(0,h.Xu)(Se);case 3:r=e.sent,null===n?1===(null==r?void 0:r.length)&&Pe(!1):r&&(o=JSON.parse(n),Pe(1!==o.orgLen),Se(o)),r||(Se({}),ee(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){var e;null!==(e=window.adobeIMS)&&void 0!==e&&e.isSignedInUser()?setTimeout((function(){U(!1)}),1e3):U(!0)}),[null===(r=window.adobeIMS)||void 0===r?void 0:r.isSignedInUser()]),(0,s.useEffect)((function(){setTimeout((function(){De(!1)}),8e3)}),[Oe]),(0,s.useEffect)((function(){Q&&V(!1)}),[Q]),(0,s.useEffect)((function(){if(!ne&&Q){var e=O({},se);for(var t in e)e[t]="";de(e),xe(!1)}}),[ne]),(0,s.useEffect)((function(){var e,t;e={},t={label:"Language",selectOptions:[]},null==Be||Be.children.forEach((function(n){var r,l=n.type,i=n.props;l===L&&null!=i&&i.children&&(t.required=i.required||!1,(r=t.selectOptions).push.apply(r,(0,o.Z)([].concat(i.children).map((function(e){var t=e.props;return{title:t.title,href:t.href}})))),de((function(e){var t,n;return O(O({},e),Array.isArray(i.children)?null:{Download:null===(t=i.children)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.title})}))),e[l]=O(O({},i),{},{required:l===M||(null==i?void 0:i.required)})})),t.selectOptions.length&&(e[R]=t,1===t.selectOptions.length&&de((function(e){var n,r;return O(O({},e),{},{Download:null===(n=t.selectOptions[0])||void 0===n?void 0:n.title,zipUrl:null===(r=t.selectOptions[0])||void 0===r?void 0:r.href})}))),ie(e),Ue()}),[]),(0,s.useEffect)((function(){var e;if(Ce)if(Ce&&0!==(null===(e=Object.keys(Ce))||void 0===e?void 0:e.length))ee(!0),V(!0),setTimeout((function(){U(!1),V(!1)}),2e3);else{var t;0===(null===(t=Object.keys(Ce))||void 0===t?void 0:t.length)&&(Se(void 0),ee(!1))}else Se(void 0),ee(!1),U(!0)}),[Ce]),(0,s.useEffect)((function(){if(_){var e=O({},se);for(var t in e)e[t]="";de(e)}}),[_]),(0,s.useEffect)((function(){var e,t,n,r,o=null===(e=Array.from((null==Be?void 0:Be.children)||[]).filter((function(e){var t;return(null==e||null===(t=e.props)||void 0===t?void 0:t.required)||e.type===M})))||void 0===e?void 0:e.map((function(e){return e.type})),l=k.test(se.CredentialName)&&(null===(t=se.CredentialName)||void 0===t?void 0:t.length)>=6,i=o.filter((function(e){return"AllowedOrigins"===e.name})),a=null===(n=se.AllowedOrigins)||void 0===n?void 0:n.split(",").map((function(e){return D.test(e.trim())})),s=!i||(null==a?void 0:a.every((function(e){return!0===e})))&&void 0!==se.AllowedOrigins&&0!==(null===(r=se.AllowedOrigins)||void 0===r?void 0:r.length),d=l&&s&&!0===se.Agree;ye(d)}),[se]),(0,s.useEffect)((function(){(0,l.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ee||!Ee.isSignedInUser()){e.next=5;break}return e.next=3,Ee.getProfile();case 3:t=e.sent,Ne(null==t?void 0:t.email);case 5:case"end":return e.stop()}}),e)})))()}),[Ee]);var Me=function(e,t){var n="Downloads"===t||"Agree"===t?e.target.checked:e.target.value;if(de((function(e){var r;return O(O({},e),{},((r={})[t]=n,r))})),"Download"===t&&se.Downloads){var r,o=null==le||null===(r=le[R])||void 0===r?void 0:r.selectOptions.find((function(t){return t.title===e.target.value}));o&&de((function(e){return O(O({},e),{},{zipUrl:o.href})}))}},He=function(){var e=(0,l.Z)(a().mark((function e(){var t,n,r,o,l,i,s,d,u,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=null===(t=window.adobeIMS)||void 0===t||null===(n=t.getTokenFromStorage())||void 0===n?void 0:n.token)||console.log("User not logged in"),U(!0),ee(!1),o={name:se.CredentialName,platform:c,description:"created for get credential",domain:se.AllowedOrigins,services:[{sdkCode:y}]},e.prev=5,e.next=8,fetch("/console/api/organizations/"+(null==Ce?void 0:Ce.id)+"/integrations/adobeid",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r,"x-api-key":null===(l=window)||void 0===l||null===(i=l.adobeIMS)||void 0===i||null===(s=i.adobeIdData)||void 0===s?void 0:s.client_id},body:JSON.stringify(o)});case 8:return d=e.sent,e.next=11,d.json();case 11:u=e.sent,200===d.status?(J(u),re(!0),xe(!0)):null!=u&&u.messages&&(xe(!0),ye(!1),Y(null==u||null===(p=u.messages[0])||void 0===p?void 0:p.message),ee(!0)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),V(!0);case 18:return e.prev=18,U(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),Te=null==le?void 0:le[I],_e=null==le?void 0:le[M],Ve=null==le?void 0:le[H],Le=null==le?void 0:le[L],qe=null==le?void 0:le[R];return(0,d.tZ)(s.default.Fragment,null,!fe&&Q&&!B&&Ce&&(0,d.tZ)("div",{className:u()(null==Be?void 0:Be.className),css:E},(0,d.tZ)("div",{css:(0,d.iv)("display:flex;flex-direction:column;gap:16px;color:var(--spectrum-global-color-gray-800);width:100%;height:100%;text-align:left;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){padding:0;width:100%;}","")},(null==Be?void 0:Be.title)&&(0,d.tZ)("h3",{className:"spectrum-Heading spectrum-Heading--sizeL"},null==Be?void 0:Be.title),(null==Be?void 0:Be.paragraph)&&(0,d.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeL"},null==Be?void 0:Be.paragraph),(0,d.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:N},"You're creating this credential in  ","developer"===(null==Ce?void 0:Ce.type)?"in your personal developer organization":(0,d.tZ)("span",null,"[",(0,d.tZ)("b",null,null==Ce?void 0:Ce.name),"] "),".",ze&&(0,d.tZ)("button",{tabIndex:"0",css:F,onClick:function(){return pe(!0)}},"Change organization?"))),(0,d.tZ)("div",{css:(0,d.iv)("display:flex;gap:35px;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){flex-direction:column;padding-left:0;}","")},(0,d.tZ)("div",{css:(0,d.iv)("display:flex;flex-direction:column;gap:35px;width:50%;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){width:100%;}","")},(0,d.tZ)("div",{css:j},_e&&(0,d.tZ)(M,{nameProps:_e,isFormValue:Ie,formData:se,handleChange:Me}),Ve&&(0,d.tZ)(H,{originsProps:Ve,isFormValue:Ie,formData:se,handleChange:Me}),Le&&qe&&(0,d.tZ)(L,{downloadsProp:Le,type:"Downloads",formData:se,handleChange:Me}),se.Downloads&&qe&&(0,d.tZ)(R,{downloadProp:qe,formData:se,isFormValue:Ie,handleChange:Me}),(0,d.tZ)("div",{css:P},(0,d.tZ)("input",{type:"checkbox",checked:se.Agree,onChange:function(e){return Me(e,"Agree")}}),(0,d.tZ)("p",{css:z},"By checking this box, you agree to ",(0,d.tZ)("a",{href:"https://wwwimages2.adobe.com/content/dam/cc/en/legal/servicetou/Adobe-Developer-Additional-Terms_en-US_20230822.pdf",css:A,target:"_blank",rel:"noreferrer"},"Adobe Developer Terms of Use"),".")),(0,d.tZ)("button",{id:"credentialButton",className:"spectrum-Button spectrum-Button--fill spectrum-Button--accent spectrum-Button--sizeM",css:S,onClick:He,disabled:!he},(0,d.tZ)("span",{className:"spectrum-Button-label"},"Create credential")))),Te?(0,d.tZ)($,{sideContent:null==Te?void 0:Te.children}):null),(0,d.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:(0,d.iv)("color:var(--spectrum-global-color-gray-800);@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){padding-left:0;}","")},"Have existing credentials?",(0,d.tZ)("a",{href:"/console/",target:"_blank",rel:"noreferrer",css:C},"Go to Developer Console"))),we&&(0,d.tZ)(s.default.Fragment,null,Oe?(0,d.tZ)(b.F,{message:"Organization Changed",variant:"success",disable:8e3,customDisableFunction:xe}):(0,d.tZ)(b.F,{customDisableFunction:xe,message:Q&&!ne?W:!_&&ne&&"Your credentials were created successfully.",variant:_||Q&&!ne?"error":"success",disable:_||Q&&!ne?null:8e3})),B&&!ne&&!_&&!Q&&Ce&&(0,d.tZ)(v.g,{credentials:Be,isCreateCredential:!0,downloadStatus:se.Downloads}),ue&&(0,d.tZ)(g.G,{setModalOpen:pe,redirectToBeta:fe,setRedirectBetaProgram:ge,setAlertShow:xe,alertShow:we,organizationChange:Oe,setOrganization:De,setOrganizationValue:Se}),(!Ce||_)&&B&&(0,d.tZ)(v.g,null),_&&!Q&&!ne&&!Ce&&(0,d.tZ)(f.I,{errorMessage:null==i?void 0:i[f.I]}),ne&&!Q&&(0,d.tZ)(p.Z,{credentialProps:i,response:G,setShowCreateForm:ee,setShowCredential:re,organizationName:null==Ce?void 0:Ce.name,formData:se,orgID:null==Ce?void 0:Ce.id}),fe&&(0,d.tZ)(m.Z,{joinBeta:null==i?void 0:i[m.Z]}),!Q&&!Ce&&!_&&!B&&(0,d.tZ)(w.K,{developerAccessError:null==i?void 0:i[w.K],title:null==Be?void 0:Be.title,emailID:Fe}))},I=function(e){return e.side},U={name:"8sarsy",styles:"position:relative;display:inline-block;width:100%"},M=function(e){var t,n,r,o=e.nameProps,l=e.isFormValue,i=e.formData,a=e.handleChange,s=!k.test(i.CredentialName),c=0!==(null===(t=i.CredentialName)||void 0===t?void 0:t.length)&&s;return(0,d.tZ)(h.Mt,{isFormValue:l,fields:o,formData:i,isRed:c},(0,d.tZ)("div",{css:U},(0,d.tZ)("input",{type:"text",css:(0,d.iv)("padding:7px;border-radius:3px;width:97%;border:1px solid ",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";&::placeholder{font-style:italic;color:var(--spectrum-global-color-gray-400);}&:focus{outline:none;border-color:",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}",""),value:i.CredentialName,onChange:function(e){return a(e,"CredentialName")},placeholder:null==o?void 0:o.placeholder,maxLength:null==o?void 0:o.range}),(0,d.tZ)("span",{css:(0,d.iv)("display :",(null===(n=i.CredentialName)||void 0===n?void 0:n.length)<3&&0!==(null===(r=i.CredentialName)||void 0===r?void 0:r.length)?"block":"none",";","")},(0,d.tZ)(h.zM,null))))},H=function(e){var t,n,r=e.originsProps,o=e.isFormValue,l=e.type,i=e.formData,a=e.handleChange,s=null===(t=i.AllowedOrigins)||void 0===t?void 0:t.split(",").map((function(e){return D.test(e.trim())})),c=null==s?void 0:s.every((function(e){return!0===e})),u=void 0!==i.AllowedOrigins&&!c&&0!==(null===(n=i.AllowedOrigins)||void 0===n?void 0:n.length);return(0,d.tZ)(h.Mt,{isFormValue:o,fields:r,type:l,formData:i,isRed:u},(0,d.tZ)("textarea",{css:(0,d.iv)("flex:1;padding:7px;height:50px;border-radius:3px;border:1px solid ",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";resize:none;width:90%;color:#4b4b4b;font-family:adobe-clean,Helvetica,Arial,sans-serif;&::placeholder{color:var(--spectrum-global-color-gray-600);font-style:italic;}&:focus{outline:none;border-color:",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}&:hover{&::placeholder{color:var(--spectrum-global-color-gray-800);}}",""),value:i.AllowedOrigins,placeholder:null==r?void 0:r.placeholder,onChange:function(e){return a(e,"AllowedOrigins")}}))},T={name:"i92civ",styles:"cursor:pointer;display:flex;justify-content:center;align-items:center"},_={name:"18ny2tv",styles:"color:var(--spectrum-dialog-confirm-description-text-color, var(--spectrum-global-color-gray-800));margin:0"},V={name:"zatqba",styles:"display:flex;gap:10px;align-items:center"},L=function(e){var t=e.downloadsProp,n=e.handleChange,r=e.formData,o=t.label,l=t.contextHelpLabelForLink,i=t.contextHelpLink,a=t.contextHelpText,s=t.contextHelp,c=t.contextHelpHeading;return(0,d.tZ)("div",{css:V},(0,d.tZ)("input",{type:"checkbox",onChange:function(e){return n(e,"Downloads")},checked:r.Downloads}),(0,d.tZ)("p",{css:_}," ",o," "),(0,d.tZ)("div",{css:T},s&&(0,d.tZ)(y.r,{heading:c,text:a,link:i,label:l})))},q={name:"wd7e5h",styles:"font-style:italic;font-weight:500;font-family:'adobe-clean';padding:7px;border-radius:3px;border:1px solid #D0D0D0!important;width:100%"},R=function(e){var t,n,r,o=e.downloadProp,l=e.formData,i=e.isFormValue,a=e.handleChange;return(0,d.tZ)(s.default.Fragment,null,(null==o||null===(t=o.selectOptions)||void 0===t?void 0:t.length)>1&&(0,d.tZ)(h.Mt,{isFormValue:i,fields:o},(0,d.tZ)("select",{css:q,id:"selectBox",value:l.Download,onChange:function(e){return a(e,"Download")}},(null==o||null===(n=o.selectOptions)||void 0===n?void 0:n.length)>1&&(0,d.tZ)("option",{value:"",hidden:!0},"Select language for your code pickData"),null==o||null===(r=o.selectOptions)||void 0===r?void 0:r.map((function(e,t){return(0,d.tZ)("option",{key:t,"data-link":e.href,value:e.title},e.title)})))))},$=function(e){var t=e.sideContent;return(0,d.tZ)(s.default.Fragment,null,(0,d.tZ)("div",{css:(0,d.iv)("width:2px;background-color:#D0D0D0;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){display:none;}","")}),(0,d.tZ)("div",{css:(0,d.iv)("width:50%;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){width:100%;}","")},(0,d.tZ)(I,{side:t})))}}}]);
//# sourceMappingURL=987e9e88-868bbc80235a6534e97b.js.map