(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[23289],{6810:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return d},default:function(){return u}});var n=a(22122),i=a(19756),r=(a(15007),a(64983)),o=a(99536),l=["components"],d={},m={_frontmatter:d},s=o.Z;function u(e){var t=e.components,a=(0,i.Z)(e,l);return(0,r.mdx)(s,(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"getting-started-with-adobe-analytics-livestream"},"Getting Started with Adobe Analytics Livestream"),(0,r.mdx)("p",null,"Livestream is a reporting feature in Adobe Analytics that allows a client to receive traffic processed by Adobe Analytics in real-time. Traffic is streamed to the client on a hit or impression basis, in the same order and rate that hits are processed."),(0,r.mdx)("p",null,"This feature can be useful to those building:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"A real-time dashboard that represents actions visitors are taking in a mobile app or web site."),(0,r.mdx)("li",{parentName:"ul"},"A visitor-level integration that sends information to personalization or marketing platforms in real-time."),(0,r.mdx)("li",{parentName:"ul"},"A forecasting or anomaly detection service that updates a model and produces forcasts/anomaly reports in real-time.")),(0,r.mdx)("p",null,"The following table outlines the tasks required to get started using Adobe Analytics Livestream."),(0,r.mdx)("h2",{id:"create-a-client"},"Create a Client"),(0,r.mdx)("p",null,"An ",(0,r.mdx)("a",{parentName:"p",href:"https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/AuthenticationOverview/ServiceAccountIntegration.md"},"Adobe.io Service Account")," needs to be created. This will be used by the client to authenticate and connect to the stream. After creating this account, make a note of the ",(0,r.mdx)("em",{parentName:"p"},"technical account email address"),". This will be used later to link the the service account to a Livestream endpoint."),(0,r.mdx)("h2",{id:"identify-what-should-be-in-the-stream"},"Identify What Should Be in the Stream"),(0,r.mdx)("p",null,"Review the list of ",(0,r.mdx)("a",{parentName:"p",href:"metrics_dimensions.md#"},"Metrics and Dimensions")," and identify what should appear in your stream. For report suites with very high volume, it is important to only include metrics and dimensions that are going to be used."),(0,r.mdx)("h2",{id:"contact-customer-care-to-provision-the-stream"},"Contact Customer Care to Provision the Stream"),(0,r.mdx)("p",null,"Customer Care will need the following information to provision the stream:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Data Center Location (London, Pacific North West, Singapore)"),(0,r.mdx)("li",{parentName:"ul"},"Login Company"),(0,r.mdx)("li",{parentName:"ul"},"A Report Suite ID for each stream being requested"),(0,r.mdx)("li",{parentName:"ul"},"Daily and Monthly Traffic Volume Averages"),(0,r.mdx)("li",{parentName:"ul"},"The Adobe.io technical account email address")),(0,r.mdx)("h2",{id:"connect-to-the-stream"},"Connect to the Stream"),(0,r.mdx)("p",null,"A connection request will look something like the following:\n",(0,r.mdx)("inlineCode",{parentName:"p"},'curl --location-trusted --compressed -H "Authorization: Bearer [JWT_TOKEN]" "[STREAM_URL]"')),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"--location-trusted")," tells CURL to follow redirects and send the authorization header again when a redirect happens"),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"--compressed")," tells CURL to send the request header ",(0,r.mdx)("inlineCode",{parentName:"li"},"Accept-Encoding: deflate, gzip"),". Livestream only supports compressed responses in order to reduce bandwidth and avoid overwhelming clients."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},'-H "Authorization: Bearer [JWT_TOKEN]')," is where the JWT token ",(0,r.mdx)("a",{parentName:"li",href:"https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/AuthenticationOverview/ServiceAccountIntegration.md#step-4-try-it"},"that was generated")," using your service account should go. This authenticates the client with Livestream.")),(0,r.mdx)("blockquote",null,(0,r.mdx)("p",{parentName:"blockquote"},"NOTE: The Adobe.io JWT tool isn't required to generate a JWT token. This can be done from within the client. ",(0,r.mdx)("a",{parentName:"p",href:"https://www.adobe.io/authentication/auth-methods.html#!AdobeDocs/adobeio-auth/master/JWT/samples/samples.md"},"Example code can be found here for multiple platforms"),".")),(0,r.mdx)("p",null,"Here is an example of a request (with the JWT token removed):\n",(0,r.mdx)("inlineCode",{parentName:"p"},'curl --location-trusted --compressed -H "Authorization: Bearer eyJ4NXUiO...e1OvbElA" https://livestream.adobe.net/api/1/stream/adobe-livestream-endpoint-name')),(0,r.mdx)("p",null,"Once connected to the stream, impression data will be streamed in a line-delimited JSON format and reflects data currently being collected by a report suite. For an example of a record returned in from Livestream, see the 'Livestream Sample JSON output' section of the ",(0,r.mdx)("a",{parentName:"p",href:"../live-stream-api/metrics_dimensions.md"},"Metrics and Dimensions")," page."),(0,r.mdx)("p",null,"If no data is currently being collected yet, the client will connect but no data will appear in the stream."),(0,r.mdx)("h2",{id:"optional-parameters"},"Optional Parameters"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"GET Parameter"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"),(0,r.mdx)("th",{parentName:"tr",align:null},"Allowed Values"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"maxConnections"),(0,r.mdx)("td",{parentName:"tr",align:null},"Indicates how many clients will connect to the same stream."),(0,r.mdx)("td",{parentName:"tr",align:null},"An integer between 1 and 8")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"reset"),(0,r.mdx)("td",{parentName:"tr",align:null},"Indicates age of data to return during initial connection/reconnection"),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"smallest")," will stream the oldest possible data. ",(0,r.mdx)("inlineCode",{parentName:"td"},"largest")," will stream the newest possible data.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"smoothing"),(0,r.mdx)("td",{parentName:"tr",align:null},"Smooths the rate of records returned by Livestream by using a server-side buffer."),(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"1")," to enable smoothing. Remove the parameter to disable it.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"smoothingBucketSize"),(0,r.mdx)("td",{parentName:"tr",align:null},"The size of the time window to use to determine the average traffic rate that is used in smoothing data returned by Livestream."),(0,r.mdx)("td",{parentName:"tr",align:null},"An integer between 1 and 7200. The default is 270 seconds.")))),(0,r.mdx)("h2",{id:"additional-links"},"Additional Links"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"metrics_dimensions.md#"},"Metrics and Dimensions")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"faq.md#"},"FAQ")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("a",{parentName:"li",href:"troubleshooting.md"},"Troubleshooting"))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-live-stream-api-getting-started-md-7949555b9e64c2a99f0e.js.map