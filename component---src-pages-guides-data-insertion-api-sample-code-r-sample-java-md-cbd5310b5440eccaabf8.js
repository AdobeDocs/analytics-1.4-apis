(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[87979],{25695:function(n,t,e){"use strict";e.r(t),e.d(t,{_frontmatter:function(){return p},default:function(){return d}});var a=e(22122),i=e(19756),r=(e(15007),e(64983)),s=e(99536),u=["components"],p={},o={_frontmatter:p},l=s.Z;function d(n){var t=n.components,e=(0,i.Z)(n,u);return(0,r.mdx)(l,(0,a.Z)({},o,e,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"data-insertion-sample-java"},"Data Insertion Sample ","(","Java",")"),(0,r.mdx)("p",null,"This Java sample illustrates how to use Java classes to send an XML request."),(0,r.mdx)("p",null,"This example sets the IP address, page name, and custom variables."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-java"},'DataSubmission.java\npackage com.omniture;\n\nimport java.util.ArrayList;\nimport java.util.Iterator;\n\npublic class DataInsertion\n{\n    private String rptSuiteID             = null;\n    private String visitorID             = null;\n    private StringBuffer buff            = null;\n    private ArrayList<String> request    = new ArrayList<String>();\n   \n    public DataInsertion( String rsid, String vid )\n    {\n       this.rptSuiteID         = rsid;\n       this.visitorID             = vid;\n    }\n   \n    public String toString()\n    {\n       buff                    = new StringBuffer();\n       buff.append( "<?xml version=\\"1.0\\" encoding=\\"UTF-8\\"?>\\n" );\n       buff.append( "<request>\\n" );\n       buff.append( "<sc_xml_ver>1.0</sc_xml_ver>\\n" );\n       \n       if( this.rptSuiteID != null )\n       buff.append( this.tagify( "reportsuiteid", this.rptSuiteID ) );\n       \n       if( this.visitorID != null )\n       buff.append( this.tagify( "visitorid", this.visitorID ) );\n       \n       Iterator iter = this.request.iterator();\n       \n       while( iter.hasNext() )\n       {\n          buff.append( iter.next() );\n       }\n       buff.append( "</request>\\n" );\n       \n       return buff.toString();\n    }\n    \n    private String tagify( String name, String value )\n    {\n       return "<" + name + ">" + value + "</" + name + ">\\n";\n    }\n\n    private String tagify( String name, char value )\n    {\n       return "<" + name + ">" + value + "</" + name + ">\\n";\n    }\n   \n    public void set( String tag, String value )\n    {\n       this.request.add( this.tagify(tag, value) );\n    }\n   \n    public void set( String tag, char value )\n    {\n       this.request.add( this.tagify(tag, value) );\n    }\n   \n}\n')),(0,r.mdx)("h2",{id:"datasubmissionjava"},"DataSubmission.java"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre"},'package com.omniture;\n\nimport java.io.BufferedReader;\nimport java.io.DataOutputStream;\nimport java.io.InputStreamReader;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class DataInsertionRequest\n{\n    public static void main(String[] args) throws Exception\n    {\n       DataInsertion di = new DataInsertion( "test", "123456" );\n          di.set( "ipaddress", "127.0.0.1" );\n          di.set( "pagename", "Test Page" );\n          di.set( "channel", "Tests" );\n          di.set( "prop1", "All" );\n          di.set( "events", "event1" );\n          di.set( "evar2", "Test Page" );\n          di.set( "evar3", "Test Page" );\n          di.set( "evar4", "Test Page" );\n          di.set( "hier1", "Test|Test Page|All" );\n       \n          URL url = null;\n             URLConnection urlConn         = null;\n             DataOutputStream printout     = null;\n             BufferedReader input        = null;\n             String u            = "http://namespace.sc.omtrdc.net/b/ss/ll/6";\n             String tmp             = null;\n       \n             url = new URL( u );\n             urlConn = url.openConnection();\n             urlConn.setDoInput( true );\n             urlConn.setDoOutput( true );\n             urlConn.setUseCaches( false );\n             urlConn.setRequestProperty( "Content-Type", "application/x-www-form-urlencoded" );\n\n             printout             = new DataOutputStream(urlConn.getOutputStream());\n          \n             printout.writeBytes( di.toString() );\n             printout.flush();\n             printout.close();\n   \n             input         = new BufferedReader( new InputStreamReader( urlConn.getInputStream( ) ) );\n       \n             System.out.println( di );\n             while( null != ( ( tmp = input.readLine() ) ) )\n             {\n                System.out.println( tmp );\n             }\n             printout.close();\n             input.close();\n    }\n\n}\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Parent topic:")," ",(0,r.mdx)("a",{parentName:"p",href:"../sample_code/c_sample_code.md"},"Sample Code")))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-data-insertion-api-sample-code-r-sample-java-md-cbd5310b5440eccaabf8.js.map