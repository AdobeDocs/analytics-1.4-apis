{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/data-insertion-api/overview/c_visitor_id.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"qTAQaA,EAAe,GACtBC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,GACF,YACD,OAAO,SAACJ,GAAD,UAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAG5E,eACE,GAAM,0BADR,2BAGA,8EAA+D,eAAIC,WAAW,KAAf,cAA/D,+EACA,8BAAe,uBAAYA,WAAW,KAAvB,aAAf,4CAAgH,uBAAYA,WAAW,KAAvB,aAAhH,yEACA,uDAAwC,uBAAYA,WAAW,KAAvB,aAAxC,iQACA,mBAAG,mBAAQA,WAAW,KAAnB,SAAH,wNACA,6lBACA,eACE,GAAM,sBADR,uBAGA,gHAAiG,uBAAYA,WAAW,KAAvB,aAAjG,yHACA,2IACA,eACE,GAAM,2BADR,kCAGA,sUACA,mEAAoD,uBAAYA,WAAW,KAAvB,QAApD,gFACA,qBAAK,iBAAMA,WAAW,OAAjB,sBAEL,6FACA,qBAAK,iBAAMA,WAAW,OAAjB,sDAGL,oKACA,qBAAK,iBAAMA,WAAW,OAAjB,kEAGL,eACE,GAAM,+BADR,gCAGA,kIAAmH,cAAGA,WAAW,IAC7H,KAAQ,6EADuG,iDAAnH,MAGA,0OAKJJ,EAAWK,gBAAiB","file":"component---src-pages-guides-data-insertion-api-overview-c-visitor-id-md-212e0a13836308fdda18.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/analytics-1.4-apis/analytics-1.4-apis/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"visitor-identification\"\n    }}>{`Visitor Identification`}</h1>\n    <p>{`To track site visitors, each visitor must have a unique `}<em parentName=\"p\">{`visitor ID`}</em>{`. Ideally, this is a persistent cookie with an extended expiration period.`}</p>\n    <p>{`Use the `}<inlineCode parentName=\"p\">{`visitorID`}</inlineCode>{` tag, the combination of IP address and `}<inlineCode parentName=\"p\">{`userAgent`}</inlineCode>{`, to submit visitor ID information to Adobe data collection servers.`}</p>\n    <p>{`If the data insertion includes a `}<inlineCode parentName=\"p\">{`visitorID`}</inlineCode>{`, the Analytics Data Processing Engine assumes that persistent cookies are enabled for the visitor's Web browser. If the data insertion identifies visitors using IP address/User Agent, Analytics displays persistent cookies for that visitor as disabled.`}</p>\n    <p><strong parentName=\"p\">{`Note:`}</strong>{` To avoid processing problems, make sure that the same visitor ID is not specified on a large number of server calls. For example, setting the same visitor ID for all unauthenticated visitors is not recommended.`}</p>\n    <p>{`The visitor ID is critical for linking a visitor's activities captured via JavaScript with those submitted through tagless data collection, or a third-party application. For example, to link a visitor's browsing activity with transactions in a third-party shopping cart application, you must pass the visitor ID to the shopping cart application. The shopping cart application uses the visitor ID when uploading transaction data via the Data Insertion API so Analytics can link the transaction data to the visitor's browsing activity `}{`(`}{`previously captured via JavaScript`}{`)`}{`.`}</p>\n    <h2 {...{\n      \"id\": \"custom-visitor-ids\"\n    }}>{`Custom Visitor IDs`}</h2>\n    <p>{`Typically, the client systems generate unique visitor identifiers that you can use as the `}<inlineCode parentName=\"p\">{`visitorID`}</inlineCode>{` value. We recommend generating your own visitor ID, in both the XML and in the JavaScript so that the values match.`}</p>\n    <p>{`If you are generating your own visitor ID, it can be up to 100 alpha-numeric characters and cannot contain a hyphen.`}</p>\n    <h2 {...{\n      \"id\": \"reading-the-s_vi-cookie\"\n    }}>{`Reading the s`}{`_`}{`vi Cookie`}</h2>\n    <p>{`When sending data that is connected to a web visitor, you need to use the same visitor ID in both JavaScript on your page and in data sent by the data insertion API. To accomplish this, you could pass the visitor ID in a hidden form element to a server-side application that uses the data insertion API.`}</p>\n    <p>{`The Analytics visitor ID is contained in the `}<inlineCode parentName=\"p\">{`s_vi`}</inlineCode>{` cookie, and can be retrieved on the client using the cookie read function:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`s.c_r('s_vi');\n`}</code></pre>\n    <p>{`The visitor ID that is returned is formatted similar to the following:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`\n[CS]v1|1234567890123456-6543210987654321[CE]\n`}</code></pre>\n    <p>{`When passing the visitor id to the data insertion API, pass just the values between the pipe '|' character and `}{`[`}{`CE`}{`]`}{`. For example:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`\n<visitorid>1234567890123456-6543210987654321</visitorid>\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"experience-cloud-id-service\"\n    }}>{`Experience Cloud ID Service`}</h2>\n    <p>{`If you have implemented the Visitor ID service, functions are provided to simplify reading visitor IDs. See `}<a parentName=\"p\" {...{\n        \"href\": \"https://marketing.adobe.com/resources/help/en_US/mcvid/mcvid_library.html\"\n      }}>{`Experience Cloud ID Service Library Reference`}</a>{`.`}</p>\n    <p>{`Make sure you check for both the Experience Cloud ID and the Analytics Visitor ID, and send both IDs `}{`(`}{`if present`}{`)`}{` to make sure any data sent is associated with the existing Analytics visitor profile.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}