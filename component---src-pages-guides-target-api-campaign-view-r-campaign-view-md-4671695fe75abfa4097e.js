(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[68577],{48551:function(e,n,t){"use strict";t.r(n),t.d(n,{_frontmatter:function(){return o},default:function(){return s}});var a=t(22122),r=t(19756),m=(t(15007),t(64983)),d=t(99536),i=["components"],o={},l={_frontmatter:o},p=d.Z;function s(e){var n=e.components,t=(0,r.Z)(e,i);return(0,m.mdx)(p,(0,a.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"campaign-view"},"Campaign View"),(0,m.mdx)("p",null,'The Campaign View API returns an XML "view" of the specified T&T campaign.'),(0,m.mdx)("h2",{id:"create-the-url"},"Create the URL"),(0,m.mdx)("p",null,"For each operation add the parameters and values necessary to copy the T&T campaign. For example:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre"},"https://testandtarget.omniture.com/api?client=user1&email=user1@acme.com​&password=pword&operation=viewCampaign&id=intID995&​thirdPartyId=extID501&version=3\n")),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Parameter"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("strong",{parentName:"td"},"client")),(0,m.mdx)("td",{parentName:"tr",align:null},"(","Required",")"," The T&T client code.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("strong",{parentName:"td"},"email")),(0,m.mdx)("td",{parentName:"tr",align:null},"(","Required",")"," The Email address associated with the T&T user performing the operation.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("strong",{parentName:"td"},"password")),(0,m.mdx)("td",{parentName:"tr",align:null},"(","Required",")"," The T&T password associated with the specified email address.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("strong",{parentName:"td"},"operation")),(0,m.mdx)("td",{parentName:"tr",align:null},"(","Required",")"," Identifies the type of T&T action to execute. To view a campaign, this value is always ",(0,m.mdx)("inlineCode",{parentName:"td"},"viewCampaign"),".")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("strong",{parentName:"td"},"id")),(0,m.mdx)("td",{parentName:"tr",align:null},"(","Optional",")"," The campaign ID of the campaign you want to view. You must provide either ",(0,m.mdx)("inlineCode",{parentName:"td"},"id")," or ",(0,m.mdx)("inlineCode",{parentName:"td"},"thirdPartyId"),".")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("strong",{parentName:"td"},"thirdpartyId")),(0,m.mdx)("td",{parentName:"tr",align:null},"(","Optional",")"," The third-party identifier associated with the campaign you want to modify. You must provide either ",(0,m.mdx)("inlineCode",{parentName:"td"},"id")," or ",(0,m.mdx)("inlineCode",{parentName:"td"},"thirdPartyId"))),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("strong",{parentName:"td"},"version")),(0,m.mdx)("td",{parentName:"tr",align:null},"Specify which version of the API you want to use. Set to one of the following:")))),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"version=1")," to return the campaign without segment information or campaign-level targeting."),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"version=2")," to return the campaign with segment information but without campaign-level targeting."),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"version=3")," to return the campaign with segment information and campaign-level targeting."),(0,m.mdx)("li",{parentName:"ul"},(0,m.mdx)("inlineCode",{parentName:"li"},"version=6"),' to display the on step actions using the "action" elements instead of the "strategy" elements, and to present the Display Step.')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Note:")," Parameters and values are case sensitive."),(0,m.mdx)("h2",{id:"inspect-the-query-response"},"Inspect the Query Response"),(0,m.mdx)("p",null,"If T&T locates a campaign with the specified ",(0,m.mdx)("inlineCode",{parentName:"p"},"id")," or ",(0,m.mdx)("inlineCode",{parentName:"p"},"thirdPartyId")," it returns XML that describes the campaign. Otherwise, it returns one of the following error messages:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre"}," Authentication error code: 401\nInvalid request code: 400\n")),(0,m.mdx)("p",null,"If ",(0,m.mdx)("em",{parentName:"p"},"when approved")," was specified for the campaign start date when the campaign is created, the start date returned is 1970-01-01T00:00Z. If you pass ",(0,m.mdx)("em",{parentName:"p"},"when deactivated"),", the end date is 2100-01-01T10:00Z."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre"},'<campaign>\n  <id>*NNNN*</id>\n  <thirdPartyId>*third party id*</thirdPartyId> //if supplied by client.\n  <name>*Campaign Name*</name>\n  <state>approved|paused|deactivated|saved|deleted</state>\n  <enabled>true|false</enabled>  \x3c!--only \'approved\' and \'paused\' have enabled = true. --\x3e\n  <startDate>YYYY-mm-DDTMM:HH:SS</startDate>\n  <endDate>YYYY-mm-DDTMM:HH:SS</endtDate>\n  <displayLocations>\n    <location>\n      <targetExpression>\n        <targetMbox>\n          <name>mboxName</name>\n        </targetMbox>\n        <targetParameter>\n          <type>url</type>\n          <name>ad</type>\n          <matcher>equalsIgnoreCase</matcher>\n          <values>\n            <value>A</value>\n            <value>B</value>\n          </values>\n        </targetParameter>\n        <targetUnknown/>  (for currently unsupported targets)\n      </targetExpression>\n    </location>\n    <location>\n      <targetExpression>\n        <targetMbox><name>homePageHero</name></targetMbox>\n        <targetParameter>\n          <type>mbox</type>\n          <name>age</name>\n          <matcher>equals</matcher>\n          <values>\n            <value>33</value>\n          </values>\n        </targetParameter>\n      </targetExpression>\n    </location>\n  </displayLocations>\n  <branches>\n    <branch>\n      <id>NNNN</id>  (recipe model ID - doesn\'t change even on client migration)\n      <name>branch name</name>\n      <description>branch description</description>\n      <targets>recipe targeting - same type as targets from displayTargets</targets>\n      <offers>\n        <displayLocation location="/campaign/displayLocations/location[1]">\n          <offerHTML> (for anonymous offers)\n            <html>...</html>\n          </offerHTML>\n        </displayLocation>\n        <displayLocation location="/campaign/displayLocations/location[2]">\n          <offerNamed>\n          <id>ID</id>\n          <name>offer name</name>\n          <offerRedirect>\n            <url>http://client.com/page.html</url>\n          </offerRedirect>\n        </displayLocation>\n        <displayLocation location="/campaign/displayLocations/location[3]">\n          <offerDefault/>\n        </displayLocation>\n      </offers>\n    </branch>\n    <branch>\n      ...\n    </branch>\n  </branches>\n\x3c!-- version 2 only -- >\n<segments>\n    <segment>\n      <stepName>Step</stepName>\n      <name>name</name>\n      <targetExpression>\n        <targetParameter>\n          <type>type</type>\n          <name>name</name>\n          <matcher>equals</matcher>\n          <values>\n            <string>value</string>\n          </values>\n        </targetParameter>\n      </targetExpression>\n    </segment>\n    <segment>\n    ...\n    </segment>\n</segments>\n<! -- end of version 2 only section -- >\n</campaign>\n')),(0,m.mdx)("p",null,"mbox name:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre"},"<targetMbox><name>mboxName</name></targetMbox>\n")),(0,m.mdx)("p",null,"mbox and URL parameter targeting:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre"},"<targetParameter>\n   <type>url | mbox</type>\n   <name>parameter name</name>\n   <matcher>equals | equalsIgnoreCase|etc</matcher>\n   <values>\n      <value>value1</value>\n      <value>value2</value>\n      ....\n   </values>\n</targetParameter>\n")),(0,m.mdx)("p",null,"Branch percent constraint:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre"},"<targetPercent>\n   <percent>95.5</percen>\n</targetPercent>\n")),(0,m.mdx)("p",null,"Anonymous HTML offers:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre"},"<offerHTML>\n   <html>offer content</html>\n</offerHTML>\n")),(0,m.mdx)("p",null,"Anonymous redirect offers:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre"},"<offerRedirect>\n   <url>http://mysite.com/page.html</url>\n</offerRedirect>\n")),(0,m.mdx)("p",null,"Default content:"),(0,m.mdx)("p",null,"<offerDefault/",">"),(0,m.mdx)("p",null,"Currently unsupported offers:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre"},"<offerUnknown>\n   <id>ID</id>\n</offerUnknown>\n")),(0,m.mdx)("p",null,"Non-anonymous offers:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre"},"<offerNamed>\n   <id>ID</id>\n   <name>offer name</name>\n</offerNamed>\n")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Parent topic:")," ",(0,m.mdx)("a",{parentName:"p",href:"../campaign_state/r_Test_and_Target_API_Sample_Code.md"},"Methods")))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-target-api-campaign-view-r-campaign-view-md-4671695fe75abfa4097e.js.map