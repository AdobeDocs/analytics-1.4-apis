# Step 1: Create a Product Builder Script to classify Data

 

In this section, you will perform the following steps to create a Product Builder script:

1.  Generate XML using Adobe API Explorer
2.  Cleanup standard XML elements
3.  Cleanup integration-specific XML elements

These steps will create the additional columns, or classifications, in the report suite that you will later populate with data.

## Generate XML using the Adobe API Explorer

In this section, you will use the Adobe API Explorer to generate the XML code for a new classification on Twitter data.

1.  In the Adobe Developer Connection, select **Get Started > API Explorer** to access Adobe API Explorer.
2.  Enter your **Username** and **Secret**.

    **Note:** You can get your username and secret from logging into the Adobe Experience Cloud and clicking on your user name link to the left of the **Sign Out** link. The Account Information screen will display your Username and Secret.

3.  From the **Environment** dropdown list, choose **Sandbox**.
4.  In the **Method** dropdown, select the **ReportSuite.SaveClassifications** method.
5.  You should see the following XML code in the **Request** code box.

    ```
    <ns1:ReportSuite.SaveClassifications>
          <c_options xsi:nil="true" xsi:type="ns1:string_array"/>
          <c_view xsi:nil="true" xsi:type="ns1:classification_view"/>
          <camp_view xsi:nil="true"/>
          <div_num xsi:nil="true"/>
          <name xsi:nil="true"/>
          <parent_div_num xsi:nil="true"/>
          <rsid_list xsi:nil="true" xsi:type="ns1:string_array"/>
          <type xsi:nil="true" xsi:type="ns1:classification_type"/>
          <update xsi:nil="true"/>
    </ns1:ReportSuite.SaveClassifications>
    ```


## Clean up standard XML elements

The XML generated by API Explorer has some extraneous elements that are not needed within the script. These elements are ones with no values associated with them or empty parameters. You need to clean up the XML to remove all such elements.

1.  Delete all references to **xsi:type** classifications.
2.  Next, delete all references to **xsi:nil**.
3.  Also, delete the **ns1** prefix on the ReportSuite.SaveClassifiications element. You should be left with the following XML code.

    ```
    <ReportSuite.SaveClassifications>
          <c_options/>
          <c_view/>
          <camp_view/>
          <div_num/>
          <name/>
          <parent_div_num/>
          <rsid_list/>
          <type/>
          <update/>
    </ReportSuite.SaveClassifications>
    ```


## Clean up integration-specific XML elements

Since Partners might use the scripts for multiple Customers and report suites, any references to element values that you usually hard code must be replaced with references to variables from the Partner integration.

**Note:** This step assumes that you have worked through tutorials 1-3 of this series (see the table at the top of this article for details). If you have not, then you must at least work through the [Step 2: Define the Product Variable](c_Define_the_Product_Variable.md#) section of tutorial 2 ([2. Partner Application Configuration Tutorial](c_Partner_Application_Configuration_for_Data_Connectors_Tutorial.md#)).

1.  In article 2, mentioned in the note above, you create the **twitter_handle** variable while you perform the variable mappings for the Integration Wizard. In this step, update the **c_view** element with the **twitter_handle** to associate the classification with the variable mapping. Use the**replaceWith** attribute with a value of **mapping** to define a variable mapping within the Integration Wizard.

    **Note:** You can think of this variable mapping as defining the key in the classification.

2.  Anywhere the report suite ID (**RSID**) is referenced in the code, you must replace it with **<item replaceWith="client">RSID</item>**. This will dynamically replace the value with each Customer's report suite ID.

    ```
    <ReportSuite.SaveClassifications>
          <c_options/>
          <c_view replaceWith="mapping">twitter_handle</c_view>
          <camp_view/>
          <div_num/>
          <name/>
          <parent_div_num/>
           <rsid_list>
               <item replaceWith="client">RSID</item>
           </rsid_list> 
          <type/>
          <update/>
    </ReportSuite.SaveClassifications>
    ```

    You will now create the new classification columns in the report suite. For the JJ. Esquire demo application, this will be gender, age and region.

3.  Set the **name** attribute to the value of **Gender** and remove attributes with no values in them. You should be left with the following XML code.

    ```
    
    <ReportSuite.SaveClassifications>
          <c_options/>
          <c_view replaceWith="mapping">twitter_handle</c_view>
         <name>Gender</name>
          <rsid_list>
               <item replaceWith="client">RSID</item>
         </rsid_list>
          <type/>
    </ReportSuite.SaveClassifications>
    ```

4.  To create another classification category of **Age**, copy the XML in the above step and append it to the script. Rename the classification as**Age**. You should end up with the following XML code.

    ```
    <ReportSuite.SaveClassifications>
          <c_options/>
          <c_view replaceWith="mapping">twitter_handle</c_view>
         <name>Gender</name>
          <rsid_list>
               <item replaceWith="client">RSID</item>
         </rsid_list>
          <type/>
    </ReportSuite.SaveClassifications>
    <ReportSuite.SaveClassifications>
          <c_options/>
          <c_view replaceWith="mapping">twitter_handle</c_view>
         <name>Age</name>
          <rsid_list>
               <item replaceWith="client">RSID</item>
         </rsid_list>
          <type/>
    </ReportSuite.SaveClassifications>
    ```

5.  To create a third classification category of Region, copy the XML in step 5 and append it to the script. Rename the classification as **Region**.
6.  Wrap the whole code in **genesis** tags. You should end up with the following XML code.

    ```
    
    <genesis>
    <ReportSuite.SaveClassifications>
          <c_options/>
          <c_view replaceWith="mapping">twitter_handle</c_view>
         <name>Gender</name>
          <rsid_list>
               <item replaceWith="client">RSID</item>
         </rsid_list>
          <type/>
    </ReportSuite.SaveClassifications>
    <ReportSuite.SaveClassifications>
          <c_options/>
          <c_view replaceWith="mapping">twitter_handle</c_view>
         <name>Age</name>
          <rsid_list>
               <item replaceWith="client">RSID</item>
         </rsid_list>
          <type/>
    </ReportSuite.SaveClassifications>
    <ReportSuite.SaveClassifications>
          <c_options/>
          <c_view replaceWith="mapping">twitter_handle</c_view>
         <name>Region</name>
          <rsid_list>
               <item replaceWith="client">RSID</item>
         </rsid_list>
          <type/>
    </ReportSuite.SaveClassifications>
    </genesis>
    ```

7.  Save the XML in a file on your computer with the name **ClassificationCreateProductBuilderScript.txt**.

**Parent topic:** [5. Classify Partner Data Tutorial](c_Classify_Partner_data_using_the_Partner_API.md)

