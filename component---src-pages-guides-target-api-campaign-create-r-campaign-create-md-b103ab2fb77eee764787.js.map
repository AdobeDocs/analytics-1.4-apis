{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/target-api/campaign_create/r_campaign_create.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-target-api-campaign-create-r-campaign-create-md-b103ab2fb77eee764787.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/analytics-1.4-apis/analytics-1.4-apis/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"campaign-createupdate\"\n    }}>{`Campaign Create/Update`}</h1>\n    <p>{`The Campaign Create API lets you create and update AB..N campaigns, landing page campaigns and optimizing campaigns `}{`(`}{`optimized to RPV/AOV/Conversion Rate`}{`)`}{`. You can add experiences, targets, and mboxes to the campaign during creation.`}</p>\n    <p>{`The Campaign Create API can also be used to update an existing campaign.`}</p>\n    <p><strong parentName=\"p\">{`Notes`}</strong>{` `}</p>\n    <ul>\n      <li parentName=\"ul\">{`Monitoring Campaigns cannot be created using API.`}</li>\n      <li parentName=\"ul\">{`Use the Campaign State API to change campaign state.`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"create-the-url\"\n    }}>{`Create the URL`}</h2>\n    <p>{`For each operation add the parameters and values necessary to create a T&T campaign. For example, use the following URL substituting the appropriate value for each of the URL parameters:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{` https://testandtarget.omniture.com/api?client=user&email=user1@acme.com​&password=pword&version=1&operation=saveCampaign&​thirdPartyId=extID501&version=1&campaign=<XML HERE>\n`}</code></pre>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Parameter`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`client`}</strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`(`}{`Required`}{`)`}{` The T&T client code.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`email`}</strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`(`}{`Required`}{`)`}{` The Email address associated with the T&T user performing the operation.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`password`}</strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`(`}{`Required`}{`)`}{` The T&T password associated with the specified email address.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`operation`}</strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`(`}{`Required`}{`)`}{` Identifies the type of T&T action to execute. To create or update a T&T campaign, this value is always `}<inlineCode parentName=\"td\">{`saveCampaign`}</inlineCode>{`.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`campaignId`}</strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`(`}{`optional for create, either campaignId or thirdPartyId required for update`}{`)`}{` Without this parameter present in the URL, a new campaign is created and assigned a campaignId. Otherwise, if a value is present, it tries to find a campaign that has a matching, non-null campaignId and if found, updates it. If a valid campaignId and a valid thirdPartyId are both included, the thirdPartyId takes precedence.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`thirdPartyId`}</strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`(`}{`optional for create, either campaignId or thirdPartyId required for update`}{`)`}{` Without this parameter present in the URL, a new campaign is created with a NULL thirdPartyId. Otherwise, if a value for thirdPartyId is present, it tries to find a campaign that has a matching, non-null thirdPartyId and if found, updates it. If a thirdPartyId is present in the URL, but no matching campaign is found, a new campaign is created with the proper thirdPartyId value. it is also possible to specify thirdPartyId in the campaign XML itself. After the campaign has been created this way, it can then be updated subsequently by specifying the thirdPartyId parameter in the URL to refer to this campaign.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`oldBranchName`}</strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`(`}{`Optional`}{`)`}{` Provide the old experience name when renaming an experience. \"Branch\" refers to experience in this API.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`optimizingMetric`}</strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`(`}{`Optional`}{`)`}{` valid values are RPV, AOV, Conversion Rate `}{`(`}{`case sensitive`}{`)`}{`. Including this parameter/value creates an optimizing campaign rather than an A/B campaign.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`version`}</strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Specify which version of the API you want to use. Set this to `}<inlineCode parentName=\"td\">{`version=1`}</inlineCode>{` unless there is a different version described in the documentation.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><strong parentName=\"td\">{`campaign`}</strong></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`(`}{`required, UTF-8 URL-encoded XML`}{`)`}{`: XML that defines the campaign. Keep in mind the size of campaign XML; otherwise, a HTTP 414 `}{`(`}{`Request URI too long`}{`)`}{` will occur.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <pre><code parentName=\"pre\" {...{}}>{`// To create the campaign: \n<campaign>\n <name>REST ABN Campaign (four branches with segments II)</name>\n <thirdPartyId>adobeID</thirdPartyId>\n <branches>\n  <branch>\n...\n`}</code></pre>\n    <p>{`A complete xml example is located in at the bottom of this article in the `}<strong parentName=\"p\">{`Demo Campaign XML`}</strong>{` section.`}</p>\n    <p><strong parentName=\"p\">{`Note:`}</strong>{` Parameters and values are case sensitive.`}</p>\n    <h2 {...{\n      \"id\": \"query-response\"\n    }}>{`Query Response`}</h2>\n    <p>{`A response of `}<inlineCode parentName=\"p\">{`200`}</inlineCode>{` indicates a successful operation. Target also returns the following information about the new campaign:`}</p>\n    <p><strong parentName=\"p\">{`Create`}</strong>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<campaign-create><result>createdsuccess</result><id>21</id></campaign-create> \n`}</code></pre>\n    <p><strong parentName=\"p\">{`Update`}</strong>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<campaign-create><result>updatedsuccess</result><id>21</id></campaign-create> \n`}</code></pre>\n    <h2 {...{\n      \"id\": \"update-a-campaign\"\n    }}>{`Update a Campaign`}</h2>\n    <p>{`To update an existing campaign, the URL is specified in the same format as described in `}<a parentName=\"p\" {...{\n        \"href\": \"r_campaign_create.md#section_28BD1EE1AADD4B24871C4AC0358E79EC\"\n      }}>{`Create the URL`}</a>{`. However, instead of providing a new `}<inlineCode parentName=\"p\">{`thirdPartyId`}</inlineCode>{`, you provide the `}<inlineCode parentName=\"p\">{`thirdPartyId`}</inlineCode>{` of the campaign that you want to update. Make sure that the value of `}<inlineCode parentName=\"p\">{`thirdPartyId`}</inlineCode>{` parameter matches the one of the stored campaign you are trying to update; otherwise, a new campaign is created instead.`}</p>\n    <p>{`You can update the following parts of a campaign:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Campaign name`}</li>\n      <li parentName=\"ul\">{`Add/Delete target`}{`(`}{`s`}{`)`}</li>\n      <li parentName=\"ul\">{`Rename URL parameter target name`}</li>\n      <li parentName=\"ul\">{`Add/Delete experience`}{`(`}{`s`}{`)`}</li>\n      <li parentName=\"ul\">{`Rename experience name `}{`(`}{`parameter 'oldBranchName' MUST be present in URL`}{`)`}</li>\n      <li parentName=\"ul\">{`Add/Delete mbox`}{`(`}{`es`}{`)`}{` `}{`(`}{`you need to specify offers for the new mbox, otherwise you'll get a 404 error: 'You have mboxes with no offers, please assign an offer for each mbox'`}{`)`}</li>\n      <li parentName=\"ul\">{`Rename mbox name`}</li>\n      <li parentName=\"ul\">{`Add/Delete segments`}</li>\n      <li parentName=\"ul\">{`Rename segments`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"specify-campaign-type\"\n    }}>{`Specify Campaign Type`}</h2>\n    <p>{`By default the Campaign create API creates an A/B campaign. You can also specify a landing page instead by adding a `}<inlineCode parentName=\"p\">{`<type>`}</inlineCode>{` parameter after `}<inlineCode parentName=\"p\">{`<campaign>`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`campaign><algorithm><type>Landing Page</type></algorithm>\n<name>My campaign name</name>\n\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"specify-start-and-end-dates-and-times\"\n    }}>{`Specify Start and End Dates and Times`}</h2>\n    <p>{`You can specify start and end dates as follows, as children of the `}<inlineCode parentName=\"p\">{`<campaign>`}</inlineCode>{` root element:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<start>2012-03-20</start>\n<end>2012-03-24</end>\n`}</code></pre>\n    <p>{`The date format is yyyy-MM-dd without a timestamp. You can specify no set start and end date as follows:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`\n  <start>When Approved</start>\n<end>When Deactivated</end>\n\n`}</code></pre>\n    <p>{`If you do not provide a start or end date, the start date is set to the current date, and the end date is set to the current date plus one month.`}</p>\n    <p>{`You can also set the time when the campaign starts or ends on the specified dates:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<start>2013-07-05T04:00</start>\n<end>2013-08-05T16:00</end>\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"specify-percentage-targeting\"\n    }}>{`Specify Percentage Targeting`}</h2>\n    <p>{`You can specify percentage targeting as follows:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<branches>\n  <branch>\n   <name>Experience A</name>\n   <description/>\n   <percentConstraint>\n     <percent>30</percent>\n   </percentConstraint>\n  </branch>\n</branches>\n\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"specify-priority\"\n    }}>{`Specify Priority`}</h2>\n    <p>{`The priority can be set as a child of the `}<inlineCode parentName=\"p\">{`<campaign>`}</inlineCode>{` root element:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<priority>High</priority>\n`}</code></pre>\n    <p>{`Possible values are:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Monitoring`}</li>\n      <li parentName=\"ul\">{`Low`}</li>\n      <li parentName=\"ul\">{`Medium`}</li>\n      <li parentName=\"ul\">{`High`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"experience-impression-capping\"\n    }}>{`Experience Impression Capping`}</h2>\n    <p>{`Sets the number of impressions or visits that must be met before the specified action is exercised.`}</p>\n    <p>{`You can specify the following for all campaign experiences at the action level or they could be specified for every campaign experience separately:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Visit count`}</li>\n      <li parentName=\"ul\">{`Impression count`}</li>\n      <li parentName=\"ul\">{`Action`}</li>\n    </ul>\n    <p>{`The new step action will not currently be displayed in Campaign Edit UI.`}</p>\n    <p>{`If a campaign that has a step with `}<inlineCode parentName=\"p\">{`experienceFrequencyCapping`}</inlineCode>{` action set is edited the action should be preserved for step `}{`(`}{`unless step was deleted etc`}{`)`}</p>\n    <p>{`The following XML snippet is used in campaign save action REST API for adding a step with an action:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<step>\n  <name>Success Metric 1</name>\n  **<action type=\"countOnce\"/\\\\>**\n\n<locations><location><mboxes><mbox><name>categoryPage</name></mbox></mboxes>\n</location></locations>\n</step>\n\n`}</code></pre>\n    <p><inlineCode parentName=\"p\">{`action`}</inlineCode>{` can contain one of the following types:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`countOnce`}</inlineCode>{` `}{`(`}{`default`}{`)`}{`: count once`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`countLandings`}</inlineCode>{`: Count landings, or clicks`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`alwaysConvert`}</inlineCode>{`: always convert`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`restartSameExperience`}</inlineCode>{` `}{`(`}{`default for conversion step`}{`)`}{`: restart with the same experience`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`restartRandomExperience`}</inlineCode>{`: restart with a different experience`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`restartNewExperience`}</inlineCode>{`: restart with a new experience`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`excludeSameExperience`}</inlineCode>{`: do not count the same experience`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`excludeDefaultContent`}</inlineCode>{`: do not count default content`}</li>\n    </ul>\n    <p>{`In addition, for impression capping, use the `}<inlineCode parentName=\"p\">{`experienceFrequencyCapping`}</inlineCode>{` step action.`}</p>\n    <p>{`You can set additional data for the `}<inlineCode parentName=\"p\">{`experienceFrequencyCapping`}</inlineCode>{` action:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<step>\n  <name>Success Metric 1</name>\n\n**<action type=\"experienceFrequencyCapping\" maxVisitsCount='2' maxImpressionsCount='8' onConditionsMetAction='ban'/\\\\>\n**\n<locations><location><mboxes><mbox><name>categoryPage</name></mbox></mboxes>\n</location></locations>\n</step>\n\n`}</code></pre>\n    <p>{` `}<inlineCode parentName=\"p\">{`onConditionsMetAction`}</inlineCode>{` can be either:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`ban`}</inlineCode>{`: bans the user from the experience he is on if has reached either 2 visits or 8 impressions. After reaching the cap, the user remains on the current experience in the campaign, but on the visit of the entry step, the user is banned from the current experience and whether another experience can be selected is evaluated, excluding the experiences where the visitor has reached the cap `}{`(`}{`or, was banned from`}{`)`}{`. If an experience has both a `}<inlineCode parentName=\"li\">{`maxImpressionCount`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`maxVisitCount`}</inlineCode>{`, the `}<inlineCode parentName=\"li\">{`maxImpressionCount`}</inlineCode>{` is disregarded.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`reset`}</inlineCode>{`: resets all current capping information for a user. All previous cap information is deleted.`}</li>\n    </ul>\n    <p>{`Either `}<inlineCode parentName=\"p\">{`maxVisitsCount`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`maxImpressionsCount`}</inlineCode>{` must be present.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<step>\n  <name>Success Metric 1</name>\n\n**<action type=\"experienceFrequencyCapping\" maxVisitsCount='2' maxImpressionsCount='8' onConditionsMetAction='ban'\\\\>\n   <experience\nname=\"Experience A\" maxVisitsCount='3' maxImpressionsCount='10' onConditionsMetAction='reset' /\\\\>\n   <experience name=\"Experience B\"\nmaxVisitsCount='3' maxImpressionsCount='10' onConditionsMetAction='ban' /\\\\>\n\n</action\\\\>**\n  \n<locations><location><mboxes><mbox><name>categoryPage</name></mbox></mboxes>\n</location></locations>\n</step>\n\n`}</code></pre>\n    <p>{`If the impression capping is not provided for all campaign experiences, the impression capping provided at the action level is used.`}</p>\n    <p>{`If the campaign is edited within the Target interface and a new branch is added, the branch automatically uses the impression capping set at the action level.`}</p>\n    <h2 {...{\n      \"id\": \"limiting-changes-and-visibility\"\n    }}>{`Limiting Changes and Visibility`}</h2>\n    <p>{`Campaigns created in Recommendations are visible in Target but are not editable. Allowing editing would create synchronization issues with their origin and any updates made in Recommendations override the changes made in Target.`}</p>\n    <p>{`Recommendations campaigns are hidden by adding the parameter `}<inlineCode parentName=\"p\">{`editUrl=hidden`}</inlineCode>{` to the campaign create API. For example:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`https://admin/admin/api?client=demo&email=demo@fortpoint.com&password=demo&operation=saveCampaign&version=1&editUrl=hidden&campaign=XMLHERE\n`}</code></pre>\n    <p>{`You can also make a campaign read-only with the `}<inlineCode parentName=\"p\">{`editUrl=readonly`}</inlineCode>{` parameter. The details for the campaign can be viewed, but the edit page is not editable. Everyone is essentially a read-only user when viewing the campaign. Campaigns saved via the API with `}<inlineCode parentName=\"p\">{`editUrl=readonly`}</inlineCode>{` can't be saved in the admin UI, but can be updated using the API. Read-only campaigns can be deleted, and campaign states can be changed.`}</p>\n    <h2 {...{\n      \"id\": \"demo-campaign-xml\"\n    }}>{`Demo Campaign XML`}</h2>\n    <p><strong parentName=\"p\">{`Notes`}</strong>{` `}</p>\n    <p>{`Experience name is limited to 20 characters.`}</p>\n    <p>{`To set an offer to display the default content, pass `}<inlineCode parentName=\"p\">{`Default Content`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<offer>\n  <name>Default Content</name>\n</offer>\n`}</code></pre>\n    <p>{`If you want your mbox to display the default content, you must pass a string of DefaultContent `}{`(`}{`whatever is in the mbox div`}{`)`}</p>\n    <p>{`At least one branch is required.`}</p>\n    <p>{`Each experience must include the same mboxes.`}</p>\n    <p>{`Each offer listed must be already created. Use `}<a parentName=\"p\" {...{\n        \"href\": \"../create_offer/r_create_offer.md#\"\n      }}>{`Offer Create`}</a>{` to create new offers.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<campaign>\n  <name>REST ABN Campaign (four branches, two segments and thirdPartyId, with campaign level targeting)</name>\n  <thirdPartyId>adobeID</thirdPartyId>\n  <priority>High</priority>\n  <start>2012-03-20</start>\n  <end>2012-03-24</end>\n  <branches>\n    <branch>\n      <!-- at least one branch is required -->\n      <name>Experience A</name>\n      <!-- 20 character limit -->\n      <description/>\n      <percentConstraint>\n        <percent>30</percent>\n      </percentConstraint>\n      <paramConstraints>\n        <paramConstraint>\n          <parameterType>URL</parameterType>\n          <name>ad</name>\n          <matcherType>equalsIgnoreCase</matcherType>\n          <values>\n            <string>a</string>\n          </values>\n        </paramConstraint>\n      </paramConstraints>\n    </branch>\n    <branch>\n      <name>Experience B</name>\n      <description/>\n      <paramConstraints>\n        <paramConstraint>\n          <parameterType>URL</parameterType>\n          <name>ad</name>\n          <matcherType>equalsIgnoreCase</matcherType>\n          <values>\n            <string>b</string>\n          </values>\n        </paramConstraint>\n      </paramConstraints>\n    </branch>\n    <branch>\n      <name>Experience C</name>\n      <description/>\n      <paramConstraints>\n        <paramConstraint>\n          <parameterType>URL</parameterType>\n          <name>ad</name>\n          <matcherType>equalsIgnoreCase</matcherType>\n          <values>\n            <string>c</string>\n          </values>\n        </paramConstraint>\n      </paramConstraints>\n    </branch>\n    <branch>\n      <name>Experience D</name>\n      <description/>\n      <paramConstraints>\n        <paramConstraint>\n          <parameterType>URL</parameterType>\n          <name>ad</name>\n          <matcherType>equalsIgnoreCase</matcherType>\n          <values>\n            <string>d</string>\n          </values>\n        </paramConstraint>\n      </paramConstraints>\n    </branch>\n  </branches>\n  <steps>\n    <step>\n      <type>entry</type>\n      <locations>\n        <location>\n          <mboxes>\n            <mbox>\n              <name>* display mboxes *</name>\n              <paramConstraints>\n                <paramConstraint>\n                  <parameterType>URL</parameterType>\n                  <name>myURLParam</name>\n                  <matcherType>paramPresent</matcherType>\n                </paramConstraint>\n              </paramConstraints>\n            </mbox>\n          </mboxes>\n        </location>\n      </locations>\n    </step>\n    <step>\n      <type>display</type>\n      <locations>\n        <location>\n          <mboxes>\n            <mbox>\n              <name>homePageHero</name>\n            </mbox>\n          </mboxes>\n          <displays>\n            <display>\n              <branch>Experience A</branch>\n              <offers>\n                <offer>\n                  <name>Homepage Hero Number 2 - Stored outside Offermatica</name>\n                  <!--required -->\n                </offer>\n              </offers>\n            </display>\n            <display>\n              <branch>Experience B</branch>\n              <offers>\n                <offer>\n                  <name>Homepage Hero Number 3 - Stored outside Offermatica</name>\n                </offer>\n              </offers>\n            </display>\n            <display>\n              <branch>Experience C</branch>\n              <offers>\n                <offer>\n                  <name>Logo Number 2 - HTML and Image</name>\n                </offer>\n              </offers>\n            </display>\n            <display>\n              <branch>Experience D</branch>\n              <offers>\n                <offer>\n                  <name>Flash Movie - Stored outside Offermatica</name>\n                </offer>\n              </offers>\n            </display>\n          </displays>\n        </location>\n      </locations>\n    </step>\n    <step>\n      <name>Conversion</name>\n      <type>conversion</type>\n      <locations>\n        <location>\n          <mboxes>\n            <mbox>\n              <name>orderConfirmPage</name>\n            </mbox>\n          </mboxes>\n        </location>\n      </locations>\n    </step>\n  </steps>\n  <segments>\n    <segment>\n      <stepName>entry</stepName>\n      <name>Segment 1</name>\n      <paramConstraints>\n        <paramConstraint>\n          <parameterType>URL</parameterType>\n          <name>abc</name>\n          <matcherType>equalsIgnoreCase</matcherType>\n          <values>\n            <string>c</string>\n          </values>\n        </paramConstraint>\n      </paramConstraints>\n    </segment>\n    <segment>\n      <stepName>entry</stepName>\n      <name>Segment 2</name>\n      <paramConstraints>\n        <paramConstraint>\n          <parameterType>URL</parameterType>\n          <name>def</name>\n          <matcherType>equalsIgnoreCase</matcherType>\n          <values>\n            <string>test</string>\n          </values>\n        </paramConstraint>\n      </paramConstraints>\n    </segment>\n  </segments>\n</campaign> \n`}</code></pre>\n    <p><strong parentName=\"p\">{`Parent topic:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"../campaign_state/r_Test_and_Target_API_Sample_Code.md\"\n      }}>{`Methods`}</a></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}