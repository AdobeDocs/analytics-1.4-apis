{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/getting-started/c_Verify_the_Data_Import_and_Classification.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-getting-started-c-verify-the-data-import-and-classification-md-e23c70bdc3d052468b5e.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/analytics-1.4-apis/analytics-1.4-apis/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"step-7-verify-the-data-import-and-classification\"\n    }}>{`Step 7: Verify the Data Import and Classification`}</h1>\n    <p>{`The import job can take several hours to complete once it has been submitted. Once the import job finishes processing, you can check if the data was properly classified in the Adobe Experience Cloud by running a report on Brands or Categories.`}</p>\n    <p>{`In Analytics UI, navigate to `}<strong parentName=\"p\">{`Products`}</strong>{` `}{`>`}{` `}<strong parentName=\"p\">{`Products`}</strong>{` `}{`>`}{` `}<strong parentName=\"p\">{`Brand`}</strong>{`.`}</p>\n    <p>{`Notice that the report data that comes back shows the brand classification data that you added.`}</p>\n    <h2 {...{\n      \"id\": \"export-classification-records\"\n    }}>{`Export classification records`}</h2>\n    <p>{`After you create, populate and import your classifications for the first time, you might find that you need to update them. In this section, you will learn how to export, update and re-import classification records in three steps:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Create an export job using the `}<inlineCode parentName=\"li\">{`Saint.ExportCreateJob()`}</inlineCode>{` method.`}</li>\n      <li parentName=\"ol\">{`Check the job status using the `}<inlineCode parentName=\"li\">{`Saint.CheckJobStatus()`}</inlineCode>{` method.`}</li>\n      <li parentName=\"ol\">{`Retrieve the report data using the `}<inlineCode parentName=\"li\">{`Saint.ExportGetFileSegment()`}</inlineCode>{` method.`}</li>\n    </ol>\n    <p>{`After you retrieve the data, you can update it and then import using the information outlined earlier in this article for creating and populating an import job.`}</p>\n    <h2 {...{\n      \"id\": \"creating-an-export-job\"\n    }}>{`Creating an export job`}</h2>\n    <p>{`Create the export job using the Saint.ExportCreateJob`}{`(`}{`)`}{` method and the parameters in the following table.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Parameters`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`report`}{`_`}{`suite`}{`_`}{`array`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The list of report suites from which to export data.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`campaign`}{`_`}{`filter`}{`_`}{`option`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The filter option based on campaign activity or date. Supported values include: `}<inlineCode parentName=\"td\">{`0`}</inlineCode>{`: All Campaigns `}{`(`}{`No filter`}{`)`}{` `}{`(`}{`default`}{`)`}{` `}<inlineCode parentName=\"td\">{`1`}</inlineCode>{`: Active campaigns `}<inlineCode parentName=\"td\">{`2`}</inlineCode>{`: Campaign by begin and end date`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`campaign`}{`_`}{`filter`}{`_`}{`begin`}{`_`}{`range`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The campaign start date to filter the data.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`campaign`}{`_`}{`filter`}{`_`}{`end`}{`_`}{`range`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The campaign end date to filter the data.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`date`}{`_`}{`filter`}{`_`}{`row`}{`_`}{`start`}{`_`}{`date`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The start date for including rows in the export.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`date`}{`_`}{`filter`}{`_`}{`row`}{`_`}{`end`}{`_`}{`date`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The end date for including rows in the export.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`email`}{`_`}{`address`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The email address to receive SAINT export job notifications.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`relation`}{`_`}{`id`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The unique ID for the basic report element data you are exporting. This ID is returned from the `}<inlineCode parentName=\"td\">{`Saint.GetCompatibilityMetrics()`}</inlineCode>{` method.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`The following code shows you how to export filtered classification records.`}</p>\n    <p><strong parentName=\"p\">{`PHP Code`}</strong>{` `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`/* SAINT Export Create Job */ \n$exportParams = array( \n'campaign_filter_begin_range'=>'', \n'campaign_filter_end_range'=>'', \n'campaign_filter_option'=>0, \n'date_filter_row_start_date'=>'Jan 2000', \n'date_filter_row_end_date'=>'Jan 2050', \n'email_address'=>$notification_email, \n'relation_id'=>, // relation id \n'report_suite_array'=>$report_suite_array, \n'row_match_filter_empty_column_name'=>'', \n'row_match_filter_match_column_name'=>'', \n'row_match_filter_match_column_value'=>'', \n'select_all_rows'=>0, \n'select_number_of_rows'=>10000 \n); \n\n$response = sendRequest('Saint.ExportCreateJob', $exportParams ); \nif (is_string($response)) { \n$job_id = (int)$response; \nif (!is_int($job_id)) \n$job_id = FALSE; \n} else { \n$job_id = FALSE; \n} \nvar_dump($job_id); \n?>\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Java Code`}</strong>{` `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`/* Call Saint.ExportCreateJob -Submits parameters to create an export file in SAINT. This file represents classifications for a given relation */ \nString responseExportCreateJob = port.saintExportCreateJob(\"\", \"\", 0, \"Jan 2000\", \"Jan 2050\", \"\", \"\", , report_suite_array, \"\", \"\", \"\", 0, 1000); \nSystem.out.println(\"responseExportCreateJob retuned a : \"+responseExportCreateJob);\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"checking-the-job-status\"\n    }}>{`Checking the Job Status`}</h2>\n    <p>{`After creating an export job, you can check on its status using `}<inlineCode parentName=\"p\">{`Saint.CheckJobStatus()`}</inlineCode>{` method.`}</p>\n    <p>{`This method returns a two-part status response that is an array where you must look for both a status of `}<inlineCode parentName=\"p\">{`completed`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`Ready`}</inlineCode>{`.`}</p>\n    <p>{`When this condition occurs store the `}<inlineCode parentName=\"p\">{`file_id`}</inlineCode>{` and the `}<inlineCode parentName=\"p\">{`viewable_pages`}</inlineCode>{` from the second response part.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`/* SAINT Check Report Status */ \n$max_checks=40; \n$check_rate_seconds=3; \n$response = ''; \n$done = FALSE; \n$viewable_pages = 0; \n$file_id = 0; \n$check_count = 0; \nwhile (!$done && $check_count < $max_checks) { \nsleep($check_rate_seconds); \nif ($debug) echo(\"st_exportCheckAndRetrieve(): checking job_id = $job_id\\\\n\"); \n/* Saint.CheckJobStatus */ \n$response = sendRequest('Saint.CheckJobStatus', array('job_id'=>$job_id ) ); \nif (is_array($response)) { \nif (stristr($response[0]['status'], 'completed') !== FALSE \n&& count($response) > 1 \n&& is_array($response[1]) \n&& $response[1]['status'] == 'Ready' \n) { \nif ($response[1]['type'] == 'file_id' && $response[1]['status'] == 'Ready') { \n$viewable_pages = $response[1]['viewable_pages']; \n$file_id = $response[1]['id']; \n} \n$done = TRUE; \nvar_dump($response); \n} \n} \n$check_count++; \nif ($debug) echo(\"st_exportCheckAndRetrieve(): looping again... $check_count\\\\n\"); \n}//end: while \n\nif ($check_count >= $max_checks && ! $done) throw new Exception('st_exportCheckAndRetrieve(): timed out while pinging CheckJobStatus'); \nif ($file_id <= 0) throw new Exception('st_exportCheckAndRetrieve(): no file_id was retrieved from CheckJobStatus'); \nif ($viewable_pages <= 0) throw new Exception('st_exportCheckAndRetrieve(): no viewable_pages was retrieved from CheckJobStatus'); \n?>\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Java Code`}</strong>{` `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`int checkCount = 0; \nint MAX_CHECKS = 40; \nint CHECK_INTERVAL = 6000; // 3 seconds \nThread.sleep(CHECK_INTERVAL); \n\n/* Export check job status */ \ncom.omniture.www.Saintresult[] exportCreateJobStatus = port.saintCheckJobStatus(Integer.parseInt(responseExportCreateJob)); \n\n/* Check status of export job */ \nwhile (!(exportCreateJobStatus[0].getStatus().equalsIgnoreCase(\"Completed\") && exportCreateJobStatus[1].getStatus().equalsIgnoreCase(\"Ready\"))) \n{ \nSystem.out.println(\"Current status for exportCreateJobStatus is: \"+exportCreateJobStatus[0].getStatus()); \n\ncheckCount++; \nif (checkCount >= MAX_CHECKS) \nthrow new Exception(\"Report timeout: report hasn't returned after \" + MAX_CHECKS + \" status checks\"); \n/* Export create job */ \nexportCreateJobStatus = port.saintCheckJobStatus(Integer.parseInt(responseExportCreateJob)); \n\nif (!(exportCreateJobStatus[0].getStatus().equalsIgnoreCase(\"Completed\") && exportCreateJobStatus[1].getStatus().equalsIgnoreCase(\"Ready\"))) \nThread.sleep(CHECK_INTERVAL); \n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"retrieving-the-report-data\"\n    }}>{`Retrieving the Report Data`}</h2>\n    <p>{`The export data files can be very large in size, so you can download them in batches or segments, also called pages earlier in this article.`}</p>\n    <p>{`The following code shows you how to use the `}<inlineCode parentName=\"p\">{`Saint.ExportGetFileSegment()`}</inlineCode>{` method to download the file in segments when the status returns the `}<inlineCode parentName=\"p\">{`Ready`}</inlineCode>{` string.`}</p>\n    <p><strong parentName=\"p\">{`PHP Code`}</strong>{` `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`$data_set = array(); \n$data_set['data'] = array(); \n\nfor ($i=1; $i <= $viewable_pages; $i++) { \n/* Saint.GetFileSegment */ \n$response = sendRequest('Saint.ExportGetFileSegment', array('file_id'=>$file_id, 'segment_id'=>$i ) ); \necho \"received chunk of \" . count($response[0]['data']) . \" rows.\\\\n\"; \nif (is_array($response) && is_array($response[0])) { \nif (!$data_set['header']) \n$data_set['header'] = $response[0]['header']; \n\nforeach($response[0]['data'] as $data_record){ \n$data_set['data'][] = $data_record['row']; \n} \n} \n} \nvar_dump($data_set); \n?>\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Java Code`}</strong>{` `}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`/* Loop to check export job status */ \nif (exportCreateJobStatus[0].getStatus().equalsIgnoreCase(\"Completed\")) \n{ \nSystem.out.println(\"Current status for exportCreateJobStatus within if loop is: \"+exportCreateJobStatus[0].getStatus()); \nSystem.out.println(\"Another status to check for exportCreateJobStatus within if loop: \"+exportCreateJobStatus[1].getStatus()); \n\n/* Check to see status is Ready */ \nif (exportCreateJobStatus[1].getStatus().equalsIgnoreCase(\"Ready\")) \n{ \nString fileID = exportCreateJobStatus[1].getType(); \n\n/* Get the number of viewable pages */ \nint viewablePages = exportCreateJobStatus[1].getViewable_pages(); \n\nSystem.out.println(\"File ID is: \"+fileID+\" and value of viewablePages is:\"+viewablePages); \n\n/* Loop over the number of pages to retrieve file segment or data */ \nfor(int i=0;i { \ncom.omniture.www.Pagedetail[] responseExportGetFileSegment = port.saintExportGetFileSegment(Integer.parseInt(fileID), i); \n\nSystem.out.println(\"responseExportGetFileSegment retuned the follwing headers: \"+responseExportGetFileSegment[0].getHeader()); \nSystem.out.println(\"responseExportGetFileSegment retuned the follwing data records: \"+responseExportGetFileSegment[0].getData().length); \n} \n} \n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Parent topic:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"c_SAINT_API_Overview.md\"\n      }}>{`SAINT API Tutorial`}</a></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}