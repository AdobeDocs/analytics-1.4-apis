{"version":3,"sources":["webpack://dev-site-documentation-template/./src/pages/guides/target-api/serverside_delivery/serverside_delivery.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-target-api-serverside-delivery-serverside-delivery-md-5a4e452da1df4520ee37.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/analytics-1.4-apis/analytics-1.4-apis/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"server-side-delivery-api\"\n    }}>{`Server-Side Delivery API`}</h1>\n    <p>{`This API exposes all existing features that mbox calls provide, but in a RESTful manner. It does not process cookies and never redirects .`}</p>\n    <p>{`Previously, the only method to integrate Target with another system was through a Rawbox call. There are a few limitations to a Rawbox approach, such as cookie processing. As a result, Target now supports an API designed specifically for integrating systems.`}</p>\n    <h2 {...{\n      \"id\": \"api-call-example\"\n    }}>{`API Call Example`}</h2>\n    <p><strong parentName=\"p\">{`Note:`}</strong>{` Only POST is allowed by this API.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`POST /rest/v1/mbox/1223434535?client=demo\n`}</code></pre>\n    <p>{`where:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`1223434535`}</inlineCode>{` is the `}<inlineCode parentName=\"p\">{`sessionId`}</inlineCode>{` that is generated and maintained by the client.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`client`}</inlineCode>{` is the client code.`}</p>\n        <p parentName=\"li\">{`The `}<inlineCode parentName=\"p\">{`client`}</inlineCode>{` parameter is mandatory for each request.`}</p>\n      </li>\n    </ul>\n    <p>{` `}<inlineCode parentName=\"p\">{`sessionId`}</inlineCode>{` can be any printable `}{`(`}<a parentName=\"p\" {...{\n        \"href\": \"http://en.wikipedia.org/wiki/PrintableString\"\n      }}>{`http://en.wikipedia.org/wiki/PrintableString`}</a>{`)`}{` string except the following:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`space`}</li>\n      <li parentName=\"ul\">{`?`}</li>\n      <li parentName=\"ul\">{`/`}</li>\n    </ul>\n    <p>{`Length should be 1 <= length <= 128.`}</p>\n    <p>{`For a particular session, the value has to stay the same across multiple requests.`}</p>\n    <p>{`Routing to a particular node in the cluster must be done using `}<inlineCode parentName=\"p\">{`sessionId`}</inlineCode>{`.`}</p>\n    <p>{`Since the session is kept alive for 30 minutes on the server side, clients should not use a different `}<inlineCode parentName=\"p\">{`sessionId`}</inlineCode>{` for a particular `}<inlineCode parentName=\"p\">{`tntId/thirdPartyId`}</inlineCode>{` unless 30 minutes passed since the last request made with this`}<inlineCode parentName=\"p\">{`tntId/thirdPartyId`}</inlineCode>{`. Otherwise, changes made to the profile will be inconsistent and cannot be predicted.`}</p>\n    <p>{`Session IDs should never be used with more than one `}<inlineCode parentName=\"p\">{`tntId`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`thirdPartyId`}</inlineCode>{`. Otherwise, unpredictable things will happen to the profiles identified by those `}<inlineCode parentName=\"p\">{`tntId/thirdPartyIDs`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"full-api-example\"\n    }}>{`Full API Example`}</h2>\n    <p>{`Here's a sample request:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n   \"mbox\" : \"orderConfirmPage\",\n   \"clicked\" : true,\n   \"tntId\" : \"12121212.17_01\",\n   \"order\" : {\n      \"total\" : 123.99,\n      \"id\" : \"123\",\n      \"purchasedProductIds\" : [12, 13, 15, \"someProductId\"]\n   },\n   \"profileParameters\" : {\n      \"param1\" : \"value1\",\n      \"param2\" : \"value2\"\n   },\n   \"mboxParameters\" : {\n      \"screenHeight\" : \"800\",\n      \"browserWidth\" : \"600\"\n   },\n   \"requestLocation\" : {\n      \"pageURL\" : \"http://demo/demo/store/\",\n      \"referrerURL\" : \"http://demo/demo/store/\",\n      \"ipAddress\" : \"128.10.10.1\",\n      \"impressionId\" : \"15989\",\n      \"host\" : \"hostname\"\n   },\n   \"mboxTrace\" : true\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"sample-response\"\n    }}>{`Sample Response`}</h2>\n    <p>{`The response looks like the following:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n   \"sessionId\" : \"1234\",\n   \"tntId\" : \"121212121.17_01\",\n   \"mboxTrace\" : {\n      \"mboxName\":\"homePageFeature1\",\n      \"serverNode\":\"aneaga\",\n      \"campaigns\":[\n         {\n         \"id\" : 21,\n         \"campaignName\":\"bullseye header\",\n         \"branchId\":0,\n         \"branchName\":\"Experience A\",\n         \"offers\":[38],\"metrics\":[\n      .........\n   }\n   }\n   \"content\" : \"raw content here\"\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"third-party-id-usage\"\n    }}>{`Third-Party ID Usage`}</h2>\n    <p>{`Third party IDs can be used without their prior creation. For example:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n   \"mbox\" : \"homePageHero\",\n   \"thirdPartyId\" : \"clientSpecificId\",\n   \"mboxParameters\" : {\n      \"screenHeight\" : \"800\",\n      \"browserWidth\" : \"600\"\n   }\n}\n`}</code></pre>\n    <p>{`If a profile with `}<inlineCode parentName=\"p\">{`clientSpecificId`}</inlineCode>{` was previously created, it is used in the context of this call. Otherwise, a new profile is created using this ID.`}</p>\n    <p>{`All String parameters in the request will be trimmed.`}</p>\n    <p>{`In case there's no offer to serve, content is an empty string.`}</p>\n    <p>{`Content is always JSON-escaped.`}</p>\n    <p>{`Redirect offer content is served using the format: `}<inlineCode parentName=\"p\">{`redirectTo:URL-here`}</inlineCode>{`, for example `}<inlineCode parentName=\"p\">{`redirectTo:http://adobe.com`}</inlineCode>{` `}</p>\n    <p>{`Default content is served as an empty string.`}</p>\n    <h2 {...{\n      \"id\": \"request-details\"\n    }}>{`Request Details`}</h2>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Field Path`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Default Value`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Validation`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`mbox`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The mbox name.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`None, it cannot be empty.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Same validation as for all mbox calls. 1 < Length < 250 Cannot contains any of the following characters: ', \", %22, %27, <, `}{`>`}{`, %3C, %3E`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`clicked`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Equivalent of using the \"-clicked\" suffix in mbox names for mbox calls. `}<strong parentName=\"td\">{`Important:`}</strong>{` Click mboxes only work for campaigns with metrics that have a specific mbox selected, for example \"click from homePageHer\" and will not work if \"click from display mboxes\" is selected.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`False`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Can be empty or true/false`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`tntId`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`New name for pcId/mboxPC.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty. If no \"thirdPartyId\" was provided, a new tntId is generated and returned as part of the response. Otherwise remains empty.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`1 < Length < 128 Cannot contain more than a single \".\" `}{`(`}{`dot`}{`)`}{`. The only dot allowed is for profile location suffix.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`thirdPartyId`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Client-provided visitor ID.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`1 < Length < 128`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`marketingCloudVisitorId`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Experience Cloud Visitor ID`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`1 < Length < 128`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`order.total`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Order amount associated with the order`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`If not empty, should be a valid decimal`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`order.id`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Order reference ID`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`If not empty, Length < 250`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`order.purchasedProductIds`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Order referenced product IDs`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Each ID cannot exceed 50 char length. Total length of comma-delimited IDs as string cannot exceed 250 chars`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`profileParameters`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Parameters that should be set in the profile. The end values in the profile are saved as `}<inlineCode parentName=\"td\">{`profile.param=value`}</inlineCode>{`.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Cannot contain more than 50 parameters`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`profileParameters.[name]`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Profile parameter name`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Length < 128 Should not start with \"profile.\" prefix.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`profileParameters.[value]`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Profile parameter value`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Length < 256`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`mboxParameters`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Any mbox parameters that may need to be provided. eg. `}<inlineCode parentName=\"td\">{`screenWidth`}</inlineCode>{`.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Cannot contain more than 50 parameters. Cannot contain order-related parameters that should be set in \"order\". Cannot contain parameters with \"profile.\" prefix. Those should be set in \"`}<inlineCode parentName=\"td\">{`profileParameters`}</inlineCode>{`\".`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`mboxParameters.[name]`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Mbox parameter name`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Length < 128`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`mboxParameters.[value]`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Mbox parameter value`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Length < 256`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`requestLocation.pageURL`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Equivalent to `}<inlineCode parentName=\"td\">{`mboxURL`}</inlineCode>{` mbox parameter`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Valid URL. Length < 3072`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`requestLocation.referrerURL`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Equivalent to `}<inlineCode parentName=\"td\">{`mboxReferrer`}</inlineCode>{` mbox parameter`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Valid URL Length < 3072`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`requestLocation.ipAddress`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Override the IP address of the client server`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`IP address or the server making the call`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Valid IP address`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`requestLocation.impressionId`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Equivalent of `}<inlineCode parentName=\"td\">{`pageId`}</inlineCode>{`. A unique one is generated with each request if no value was specified.`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Length < 128`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`requestLocation.host`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Equivalent of `}<inlineCode parentName=\"td\">{`mboxHost`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`\"unknown\"`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Length < 250`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`mboxTrace`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Enabled detailed tracing of the call`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`False`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Empty/True/False`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"response-description\"\n    }}>{`Response Description`}</h2>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Field Path`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`sessionId`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Session ID that was provided for this call.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`tntId`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Provided or generated `}<inlineCode parentName=\"td\">{`tntId`}</inlineCode>{`.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`thirdPartyId`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`thirdPartyId`}</inlineCode>{` if one was provided.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`mboxTrace`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Serialized mbox trace details.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"standard-use-cases\"\n    }}>{`Standard Use Cases`}</h2>\n    <p><strong parentName=\"p\">{`Completely New Visitors`}</strong>{` `}</p>\n    <p>{`For new visitors, there are generally several possibilities:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The client has the possibility to store our generated TnT ID. In this case, the request made is as simple as https://mboxedge/rest/v1/mbox/999888?client=demo `}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`{\n   \"mbox\" : \"homePageHero\"\n}\n`}</code></pre>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Response`}</strong>{` `}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`{\n   \"content\" : \"content\",\n   \"sessionId\" : \"999888\",\n   \"tntId\" : \"1405327173056-274175.01_00\"\n}\n`}</code></pre>\n        <p parentName=\"li\">{`Note that a new `}<inlineCode parentName=\"p\">{`tntId`}</inlineCode>{` is generated and provided in the response.`}</p>\n        <p parentName=\"li\">{`All subsequent requests need to include the generated `}<inlineCode parentName=\"p\">{`tntId`}</inlineCode>{` as following:`}</p>\n        <p parentName=\"li\">{` https://mboxedge/rest/v1/mbox/999888?client=demo `}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`{\n   \"mbox\" : \"homePageHero\",\n   \"tntId\" : \"1405327173056-274175.01_00\"\n}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The client wants to use custom IDs to identify visitors `}{`(`}{`profiles`}{`)`}{`. In this case, only third party IDs can be used and need to be provided with every call.`}</p>\n        <p parentName=\"li\">{`https://mboxedge/rest/v1/mbox/999888?client=demo`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`{\n   \"mbox\" : \"homePageHero\",\n   \"thirdPartyId\" : \"customId-123\"\n}\n\n`}</code></pre>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Response`}</strong>{` `}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`{\n   \"content\" : \"content\",\n   \"sessionId\" : \"999888\",\n   \"thirdPartyId\" : \"customId-123\"\n}\n\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`A Experience Cloud visitor ID is used.`}</p>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Experience Cloud Visitor ID`}</strong>{` `}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`{\n   \"mbox\" : \"homePageHero\",\n   \"marketingCloudVisitorId\" : \"23131312312312123123\"\n}\n\n`}</code></pre>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Note:`}</strong>{` `}<inlineCode parentName=\"p\">{`tntId/thirdPartyId/marketingCloudVisitorId`}</inlineCode>{` can all be combined and provided in the same request. A typical scenario would be to provide `}<inlineCode parentName=\"p\">{`tntId`}</inlineCode>{` along with another ID.`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`**Combining IDs** \n\n\\`\\`\\`\n{\n   \"mbox\" : \"homePageHero\",\n   \"tntId\" : \"1234343422.17_01\",\n   \"marketingCloudVisitorId\" : \"23131312312312123123\"\n}\n\n\\`\\`\\`\n\n**Returning Visitors** \n\nCalls for returning visitors need to include the identifier that was used initially, \\`tntId\\` or \\`thirdPartyId\\`.\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"error-conditions\"\n    }}>{`Error Conditions`}</h2>\n    <p>{`In case of error conditions:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`{\n   \"status\" : 500,\n   \"message\" : \"An error has occurred while processing your request, please try again later\"\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Parent topic:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"../campaign_state/r_Test_and_Target_API_Sample_Code.md\"\n      }}>{`Methods`}</a></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}