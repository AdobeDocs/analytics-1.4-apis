(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[76360],{15512:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return d},default:function(){return p}});var n=a(22122),r=a(19756),i=(a(15007),a(64983)),l=a(99536),o=["components"],d={},s={_frontmatter:d},m=l.Z;function p(e){var t=e.components,a=(0,r.Z)(e,o);return(0,i.mdx)(m,(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"step-4-send-event-specific-data-to-analytics"},"Step 4: Send Event-Specific Data to Analytics"),(0,i.mdx)("p",null,"In this section, you will learn how to collect analytics data when a visitor clicks on a link by creating an object that contains the properties defined in the following table."),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Property"),(0,i.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"reportSuiteID ","(","required",")"),(0,i.mdx)("td",{parentName:"tr",align:null},"The report suite where you are collecting data.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"visitorID ","(","visitorID or ipAddress required",")"),(0,i.mdx)("td",{parentName:"tr",align:null},"A visitor’s unique identifying cookie.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"IPaddress ","(","visitorID or ipAddress required",")"),(0,i.mdx)("td",{parentName:"tr",align:null},"The visitor’s IP address.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"userAgent"),(0,i.mdx)("td",{parentName:"tr",align:null},"The visitor’s browser type and OS.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"pageName ","(","pageName or pageURL required",")"),(0,i.mdx)("td",{parentName:"tr",align:null},"The name of the web page.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"events"),(0,i.mdx)("td",{parentName:"tr",align:null},"A list of Analytics events being used.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"transactionID"),(0,i.mdx)("td",{parentName:"tr",align:null},"A unique value used to tie multi-channel user activity.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"linkName"),(0,i.mdx)("td",{parentName:"tr",align:null},"The name of the link. It is used in Analytics reports.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"linkType"),(0,i.mdx)("td",{parentName:"tr",align:null},"Set the value to one of the following: ",(0,i.mdx)("inlineCode",{parentName:"td"},"o")," for Custom Links  ",(0,i.mdx)("inlineCode",{parentName:"td"},"e")," for Exit Links  ",(0,i.mdx)("inlineCode",{parentName:"td"},"d")," for File Downloads")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"linkURL"),(0,i.mdx)("td",{parentName:"tr",align:null},"The links HREF. If the object has no HREF property then set the value to true.")))),(0,i.mdx)("p",null,"In the related article, ",(0,i.mdx)("a",{parentName:"p",href:"c_Data_Sources_Overview.md#"},"Data Sources API Tutorial"),", you will learn how to upload data about purchases made through the JJ. Esquire Call Center. However, you will need a mechanism to associate these purchases with the visitors who clicked on the Purchase by Phone link."),(0,i.mdx)("p",null,"Analytics provides an ",(0,i.mdx)("inlineCode",{parentName:"p"},"s.transactionID")," variable to identify all clicks to this link. Remember that the popup that appears offers the visitor a 5% discount when they use this ",(0,i.mdx)("inlineCode",{parentName:"p"},"transactionID")," in their Call Center order."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Note:")," You may need to ask your Adobe representative to enable the transactionID for recording. You can check whether the variable is enabled in Admin ",">"," Data Sources ",">"," Manage."),(0,i.mdx)("p",null,"In this JJ. Esquire demo application, you send a custom event, ",(0,i.mdx)("inlineCode",{parentName:"p"},"event1"),", and the ",(0,i.mdx)("inlineCode",{parentName:"p"},"transactionID")," to Analytics. ",(0,i.mdx)("inlineCode",{parentName:"p"},"event1")," tracks the number of visitors who click the Purchase By Phone link in the Product Detail page."),(0,i.mdx)("p",null,"The following code formats the custom event-specific data within XML tags for the Data Insertion API."),(0,i.mdx)("p",null,"Note: The ",(0,i.mdx)("inlineCode",{parentName:"p"},"pageName")," property is required, but all page values are ignored for custom links."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"PHP Code")," "),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},"/* Define an associative array containing the properties for the Contact Call Center custom event */ \n$analyticsArray = array( \n  'reportSuiteID'=>$rsId, \n  'visitorID'=>'123456543210', \n  'ipAddress'=>'127.0.0.1', \n  'userAgent'=>'Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 4.0), Mozilla/5.0 (Macintosh; U; Intel Mac OS X; es-ES; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6', \n  'pageName'=>'Product Detail Page**', \n  'linkName'=>'Call Center Link**', \n  'linkType'=>'o', \n  'linkURL'=>'true', \n  'events'=>'event1', \n  'transactionID'=>'003456' \n); \n\n/* Format the analytics data within XML tags*/ \n$xmlData=formatXML($analyticsArray); \n?>\n")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Java Code")," "),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre"},'/* Create a new class which calls the API and creates an object containing the custom link properties for the Product Detail page in the JJ. Esquire demo application. */ \n\nDataInsertion di = new DataInsertion( "", "123456543210" ); \ndi.set( "reportSuiteID","" ); \ndi.set( "visitorID","123456543210" ); \ndi.set( "ipaddress", "127.0.0.1" ); \ndi.set( "userAgent","Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 4.0), Mozilla/5.0 (Macintosh; U; Intel Mac OS X; es-ES; rv:1.8.1.6) Gecko/20070725 Firefox/2.0.0.6" ); \n/* The following 6 variables map to the Product Detail page in tagging. */ \ndi.set( "pagename", "Product Detail Page**" ); \ndi.set( "linkName", "Call Center Link**" ); \ndi.set( "linkType", "o" ); \ndi.set( "linkURL","true" ); \ndi.set( "events","event1" ); \ndi.set( "transactionID","003456" );\n')),(0,i.mdx)("p",null,"You will need to repeat ",(0,i.mdx)("a",{parentName:"p",href:"c_Send_Page-Specific_Data_to_Analytics.md#"},"Step 3: Send Page-Specific Data to Analytics")," to format the HTTP POST request headers, append the analytics data, and send the XML formatted Analytics data to the Data Insertion API."),(0,i.mdx)("p",null,"A ",(0,i.mdx)("inlineCode",{parentName:"p"},"Success")," response means the operation was successful."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Parent topic:")," ",(0,i.mdx)("a",{parentName:"p",href:"c_Data_Insertion_Overview.md"},"Data Insertion API Tutorial")))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-getting-started-c-send-event-specific-data-to-analytics-md-ee12844ddf14e06d201c.js.map