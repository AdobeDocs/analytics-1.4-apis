"use strict";(self.webpackChunkanalytics_1_4_apis=self.webpackChunkanalytics_1_4_apis||[]).push([[2914],{77503:function(e,t,n){n.d(t,{MF:function(){return U},MH:function(){return I},SL:function(){return E},UW:function(){return R},cI:function(){return $},dd:function(){return M},ie:function(){return T}});var r=n(4942),o=n(42982),l=n(15861),i=n(64687),a=n.n(i),s=n(15007),d=n(95223),c=n(75900),u=n.n(c),p=n(65480),v=n(47720),f=n(59273),g=n(48325),m=n(27860),h=n(68457),y=n(8),b=n(53971),w=n(90166),x=n(26777);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=/^(localhost:\d{1,5}|(\*\.|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+)|\*|(\*\.[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+))$/,k=/^(?=[A-Za-z0-9\s]{6,}$)[A-Za-z0-9\s]*$/,C={name:"19cme6k",styles:"margin-left:10px;color:var(--spectrum-global-color-gray-800);&:hover{color:var(--spectrum-global-color-gray-900);}"},S={name:"17fjgey",styles:"width:fit-content;margin-top:10px"},A={name:"1e43w35",styles:"color:rgb(0, 84, 182);&:hover{color:rgb(2, 101, 220);}"},z={name:"1kjtuj9",styles:"color:var(--spectrum-global-color-gray-800);margin:0"},P={name:"oq6u0f",styles:"display:flex;gap:10px"},j={name:"ftyx0c",styles:"display:flex;gap:24px;flex-direction:column;width:100%"},F={name:"1pmf9ly",styles:"border:none;padding:0;font-family:'adobe-clean';background:transparent;margin-left:10px;text-decoration:underline;color:var(--spectrum-global-color-gray-800);cursor:pointer"},N={name:"7hgi8",styles:"color:var(--spectrum-global-color-gray-800)"},B={name:"budh8k",styles:"display:flex;flex-direction:column;gap:16px"},E=function e(t){var n,r=t.formProps,i=t.credentialType,c=t.service,y=(0,s.useState)(!1),Z=y[0],E=y[1],H=(0,s.useState)(!1),_=H[0],V=H[1],L=(0,s.useState)({}),q=L[0],G=L[1],J=(0,s.useState)(""),K=J[0],W=J[1],Y=(0,s.useState)(!0),X=Y[0],Q=Y[1],ee=(0,s.useState)(!1),te=ee[0],ne=ee[1],re=(0,s.useState)([]),oe=re[0],le=re[1],ie=(0,s.useState)({}),ae=ie[0],se=ie[1],de=(0,s.useState)(!1),ce=de[0],ue=de[1],pe=(0,s.useState)(!1),ve=pe[0],fe=pe[1],ge=(0,s.useState)(!1),me=ge[0],he=ge[1],ye=(0,s.useState)(!1),be=ye[0],we=ye[1],xe=(0,s.useState)(!1),Ze=xe[0],Oe=xe[1],De=(0,s.useState)({}),ke=De[0],Ce=De[1],Se=(0,s.useState)(!0),Ae=Se[0],ze=Se[1],Pe=(0,s.useState)(""),je=Pe[0],Fe=Pe[1],Ne=(0,s.useContext)(x.ZP).ims,Be=null==r?void 0:r[e],Ee=null==Be||null===(n=Be.children)||void 0===n?void 0:n.filter((function(e){return Object.keys(e.props).some((function(e){return e.startsWith("contextHelp")}))})),Ue=function(){var e=(0,l.Z)(a().mark((function e(){var t,n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=localStorage)||void 0===t?void 0:t.getItem("OrgInfo"),e.next=3,(0,h.Xu)(Ce);case 3:r=e.sent,null===n?1===(null==r?void 0:r.length)&&ze(!1):r&&(o=JSON.parse(n),ze(1!==o.orgLen),Ce(o)),r||(Ce({}),Q(!1));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){setTimeout((function(){Oe(!1)}),8e3)}),[Ze]),(0,s.useEffect)((function(){X&&V(!1)}),[X]),(0,s.useEffect)((function(){if(!te&&X){var e=O({},ae);for(var t in e)e[t]="";se(e),we(!1)}}),[te]),(0,s.useEffect)((function(){var e,t;e={},t={label:"Language",selectOptions:[]},null==Be||Be.children.forEach((function(n){var r,l=n.type,i=n.props;l===T&&null!=i&&i.children&&(t.required=i.required||!1,(r=t.selectOptions).push.apply(r,(0,o.Z)([].concat(i.children).map((function(e){var t=e.props;return{title:t.title,href:t.href}})))),se((function(e){var t,n;return O(O({},e),Array.isArray(i.children)?null:{Download:null===(t=i.children)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.title})}))),e[l]=O(O({},i),{},{required:l===I||(null==i?void 0:i.required)})})),t.selectOptions.length&&(e[R]=t,1===t.selectOptions.length&&se((function(e){var n,r;return O(O({},e),{},{Download:null===(n=t.selectOptions[0])||void 0===n?void 0:n.title,zipUrl:null===(r=t.selectOptions[0])||void 0===r?void 0:r.href})}))),le(e),Ue()}),[]),(0,s.useEffect)((function(){var e;if(ke)if(ke&&0!==(null===(e=Object.keys(ke))||void 0===e?void 0:e.length))Q(!0);else{var t;0===(null===(t=Object.keys(ke))||void 0===t?void 0:t.length)&&(Ce(void 0),Q(!1))}else Ce(void 0),Q(!1),V(!0)}),[ke]),(0,s.useEffect)((function(){if(_){var e=O({},ae);for(var t in e)e[t]="";se(e)}}),[_]),(0,s.useEffect)((function(){var e,t,n,r,o=null===(e=Array.from((null==Be?void 0:Be.children)||[]).filter((function(e){var t;return(null==e||null===(t=e.props)||void 0===t?void 0:t.required)||e.type===I})))||void 0===e?void 0:e.map((function(e){return e.type})),l=k.test(ae.CredentialName)&&(null===(t=ae.CredentialName)||void 0===t?void 0:t.length)>=6,i=o.filter((function(e){return"AllowedOrigins"===e.name})),a=null===(n=ae.AllowedOrigins)||void 0===n?void 0:n.split(",").map((function(e){return D.test(e.trim())})),s=!i||(null==a?void 0:a.every((function(e){return!0===e})))&&void 0!==ae.AllowedOrigins&&0!==(null===(r=ae.AllowedOrigins)||void 0===r?void 0:r.length),d=l&&s&&!0===ae.Agree;he(d)}),[ae]),(0,s.useEffect)((function(){(0,l.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ne||!Ne.isSignedInUser()){e.next=5;break}return e.next=3,Ne.getProfile();case 3:t=e.sent,Fe(null==t?void 0:t.email);case 5:case"end":return e.stop()}}),e)})))()}),[Ne]);var He=function(e,t){var n="Downloads"===t||"Agree"===t?e.target.checked:e.target.value;if(se((function(e){var r;return O(O({},e),{},((r={})[t]=n,r))})),"Download"===t&&ae.Downloads){var r,o=null==oe||null===(r=oe[R])||void 0===r?void 0:r.selectOptions.find((function(t){return t.title===e.target.value}));o&&se((function(e){return O(O({},e),{},{zipUrl:o.href})}))}},Ie=function(){var e=(0,l.Z)(a().mark((function e(){var t,n,r,o,l,s,d,u,p,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=null===(t=window.adobeIMS)||void 0===t||null===(n=t.getTokenFromStorage())||void 0===n?void 0:n.token)||console.log("User not logged in"),E(!0),Q(!1),o={name:ae.CredentialName,platform:i,description:"created for get credential",domain:ae.AllowedOrigins,services:[{sdkCode:c}]},e.prev=5,e.next=8,fetch("/console/api/organizations/"+(null==ke?void 0:ke.id)+"/integrations/adobeid",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r,"x-api-key":null===(l=window)||void 0===l||null===(s=l.adobeIMS)||void 0===s||null===(d=s.adobeIdData)||void 0===d?void 0:d.client_id},body:JSON.stringify(o)});case 8:return u=e.sent,e.next=11,u.json();case 11:p=e.sent,200===u.status?(G(p),ne(!0),we(!0)):null!=p&&p.messages&&(we(!0),he(!1),W(null==p||null===(v=p.messages[0])||void 0===v?void 0:v.message),Q(!0)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),V(!0);case 18:return e.prev=18,E(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),Me=null==oe?void 0:oe[U],_e=null==oe?void 0:oe[I],Ve=null==oe?void 0:oe[M],Le=null==oe?void 0:oe[T],Te=null==oe?void 0:oe[R];return(0,d.tZ)(s.default.Fragment,null,!ve&&X&&!Z&&ke&&(0,d.tZ)("div",{className:u()(null==Be?void 0:Be.className),css:B},(0,d.tZ)("div",{css:(0,d.iv)("display:flex;flex-direction:column;gap:16px;color:var(--spectrum-global-color-gray-800);width:100%;height:100%;text-align:left;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){padding:0;width:100%;}","")},(null==Be?void 0:Be.title)&&(0,d.tZ)("h3",{className:"spectrum-Heading spectrum-Heading--sizeL"},null==Be?void 0:Be.title),(null==Be?void 0:Be.paragraph)&&(0,d.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeL"},null==Be?void 0:Be.paragraph),(0,d.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:N},"You're creating this credential in  ","developer"===(null==ke?void 0:ke.type)?"in your personal developer organization":(0,d.tZ)("span",null,"[",(0,d.tZ)("b",null,null==ke?void 0:ke.name),"] "),".",Ae&&(0,d.tZ)("button",{tabIndex:"0",css:F,onClick:function(){return ue(!0)}},"Change organization?"))),(0,d.tZ)("div",{css:(0,d.iv)("display:flex;gap:35px;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){flex-direction:column;padding-left:0;}","")},(0,d.tZ)("div",{css:(0,d.iv)("display:flex;flex-direction:column;gap:35px;width:50%;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){width:100%;}","")},(0,d.tZ)("div",{css:j},_e&&(0,d.tZ)(I,{nameProps:_e,isFormValue:Ee,formData:ae,handleChange:He}),Ve&&(0,d.tZ)(M,{originsProps:Ve,isFormValue:Ee,formData:ae,handleChange:He}),Le&&Te&&(0,d.tZ)(T,{downloadsProp:Le,type:"Downloads",formData:ae,handleChange:He}),ae.Downloads&&Te&&(0,d.tZ)(R,{downloadProp:Te,formData:ae,isFormValue:Ee,handleChange:He}),(0,d.tZ)("div",{css:P},(0,d.tZ)("input",{type:"checkbox",checked:ae.Agree,onChange:function(e){return He(e,"Agree")}}),(0,d.tZ)("p",{css:z},"By checking this box, you agree to ",(0,d.tZ)("a",{href:"https://wwwimages2.adobe.com/content/dam/cc/en/legal/servicetou/Adobe-Developer-Additional-Terms_en-US_20230822.pdf",css:A,target:"_blank",rel:"noreferrer"},"Adobe Developer Terms of Use"),".")),(0,d.tZ)("button",{id:"credentialButton",className:"spectrum-Button spectrum-Button--fill spectrum-Button--accent spectrum-Button--sizeM",css:S,onClick:Ie,disabled:!me},(0,d.tZ)("span",{className:"spectrum-Button-label"},"Create credential")))),Me?(0,d.tZ)($,{sideContent:null==Me?void 0:Me.children}):null),(0,d.tZ)("p",{className:"spectrum-Body spectrum-Body--sizeS",css:(0,d.iv)("color:var(--spectrum-global-color-gray-800);@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){padding-left:0;}","")},"Have existing credentials?",(0,d.tZ)("a",{href:"/console/",target:"_blank",rel:"noreferrer",css:C},"Go to Developer Console"))),be&&(0,d.tZ)(s.default.Fragment,null,Ze?(0,d.tZ)(b.F,{message:"Organization Changed",variant:"success",disable:8e3,customDisableFunction:we}):(0,d.tZ)(b.F,{customDisableFunction:we,message:X&&!te?K:!_&&te&&"Your credentials were created successfully.",variant:_||X&&!te?"error":"success",disable:_||X&&!te?null:8e3})),Z&&!te&&(0,d.tZ)(v.g,{credentials:Be,downloadStatus:ae.Downloads}),ce&&(0,d.tZ)(g.G,{setModalOpen:ue,redirectToBeta:ve,setRedirectBetaProgram:fe,setAlertShow:we,alertShow:be,organizationChange:Ze,setOrganization:Oe,setOrganizationValue:Ce}),_&&!X&&!te&&(0,d.tZ)(f.I,{errorMessage:null==r?void 0:r[f.I]}),te&&!X&&(0,d.tZ)(p.Z,{credentialProps:r,response:q,setShowCreateForm:Q,setShowCredential:ne,organizationName:null==ke?void 0:ke.name,formData:ae,orgID:null==ke?void 0:ke.id}),ve&&(0,d.tZ)(m.Z,{joinBeta:null==r?void 0:r[m.Z]}),!X&&!ke&&!_&&(0,d.tZ)(w.K,{developerAccessError:null==r?void 0:r[w.K],title:null==Be?void 0:Be.title,emailID:je}))},U=function(e){return e.side},H={name:"8sarsy",styles:"position:relative;display:inline-block;width:100%"},I=function(e){var t,n,r,o=e.nameProps,l=e.isFormValue,i=e.formData,a=e.handleChange,s=!k.test(i.CredentialName),c=0!==(null===(t=i.CredentialName)||void 0===t?void 0:t.length)&&s;return(0,d.tZ)(h.Mt,{isFormValue:l,fields:o,formData:i,isRed:c},(0,d.tZ)("div",{css:H},(0,d.tZ)("input",{type:"text",css:(0,d.iv)("padding:7px;border-radius:3px;width:97%;border:1px solid ",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";&::placeholder{font-style:italic;color:var(--spectrum-global-color-gray-400);}&:focus{outline:none;border-color:",c?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}",""),value:i.CredentialName,onChange:function(e){return a(e,"CredentialName")},placeholder:null==o?void 0:o.placeholder,maxLength:null==o?void 0:o.range}),(0,d.tZ)("span",{css:(0,d.iv)("display :",(null===(n=i.CredentialName)||void 0===n?void 0:n.length)<3&&0!==(null===(r=i.CredentialName)||void 0===r?void 0:r.length)?"block":"none",";","")},(0,d.tZ)(h.zM,null))))},M=function(e){var t,n,r=e.originsProps,o=e.isFormValue,l=e.type,i=e.formData,a=e.handleChange,s=null===(t=i.AllowedOrigins)||void 0===t?void 0:t.split(",").map((function(e){return D.test(e.trim())})),c=null==s?void 0:s.every((function(e){return!0===e})),u=void 0!==i.AllowedOrigins&&!c&&0!==(null===(n=i.AllowedOrigins)||void 0===n?void 0:n.length);return(0,d.tZ)(h.Mt,{isFormValue:o,fields:r,type:l,formData:i,isRed:u},(0,d.tZ)("textarea",{css:(0,d.iv)("flex:1;padding:7px;height:50px;border-radius:3px;border:1px solid ",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";resize:none;width:90%;color:#4b4b4b;font-family:adobe-clean,Helvetica,Arial,sans-serif;&::placeholder{color:var(--spectrum-global-color-gray-600);font-style:italic;}&:focus{outline:none;border-color:",u?"rgb(211, 21, 16)":"var(--spectrum-global-color-gray-400)",";}&:hover{&::placeholder{color:var(--spectrum-global-color-gray-800);}}",""),value:i.AllowedOrigins,placeholder:null==r?void 0:r.placeholder,onChange:function(e){return a(e,"AllowedOrigins")}}))},_={name:"i92civ",styles:"cursor:pointer;display:flex;justify-content:center;align-items:center"},V={name:"18ny2tv",styles:"color:var(--spectrum-dialog-confirm-description-text-color, var(--spectrum-global-color-gray-800));margin:0"},L={name:"zatqba",styles:"display:flex;gap:10px;align-items:center"},T=function(e){var t=e.downloadsProp,n=e.handleChange,r=e.formData,o=t.label,l=t.contextHelpLabelForLink,i=t.contextHelpLink,a=t.contextHelpText,s=t.contextHelp,c=t.contextHelpHeading;return(0,d.tZ)("div",{css:L},(0,d.tZ)("input",{type:"checkbox",onChange:function(e){return n(e,"Downloads")},checked:r.Downloads}),(0,d.tZ)("p",{css:V}," ",o," "),(0,d.tZ)("div",{css:_},s&&(0,d.tZ)(y.r,{heading:c,text:a,link:i,label:l})))},q={name:"wd7e5h",styles:"font-style:italic;font-weight:500;font-family:'adobe-clean';padding:7px;border-radius:3px;border:1px solid #D0D0D0!important;width:100%"},R=function(e){var t,n,r,o=e.downloadProp,l=e.formData,i=e.isFormValue,a=e.handleChange;return(0,d.tZ)(s.default.Fragment,null,(null==o||null===(t=o.selectOptions)||void 0===t?void 0:t.length)>1&&(0,d.tZ)(h.Mt,{isFormValue:i,fields:o},(0,d.tZ)("select",{css:q,id:"selectBox",value:l.Download,onChange:function(e){return a(e,"Download")}},(null==o||null===(n=o.selectOptions)||void 0===n?void 0:n.length)>1&&(0,d.tZ)("option",{value:"",hidden:!0},"Select language for your code pickData"),null==o||null===(r=o.selectOptions)||void 0===r?void 0:r.map((function(e,t){return(0,d.tZ)("option",{key:t,"data-link":e.href,value:e.title},e.title)})))))},$=function(e){var t=e.sideContent;return(0,d.tZ)(s.default.Fragment,null,(0,d.tZ)("div",{css:(0,d.iv)("width:2px;background-color:#D0D0D0;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){display:none;}","")}),(0,d.tZ)("div",{css:(0,d.iv)("width:50%;@media screen and (min-width:",h.xU,") and (max-width:",h.Ey,"){width:100%;}","")},(0,d.tZ)(U,{side:t})))}}}]);
//# sourceMappingURL=987e9e88-4d691d33f35ba99c1ec5.js.map